{"version":3,"sources":["e:/Code/pixi/node_modules/browser-pack/_prelude.js","js/main.js","e:/Code/pixi/js/audioPlayer.js","e:/Code/pixi/js/background.js","e:/Code/pixi/js/bird.js","e:/Code/pixi/js/game.js","e:/Code/pixi/js/level.js","e:/Code/pixi/js/settings.js","e:/Code/pixi/js/setup.js","e:/Code/pixi/js/utils.js"],"names":[],"mappings":"AAAA;;;ACAA,CAAC,YAAW;AACR,QAAI,OAAO,QAAQ,QAAR,CAAX;AACA,SAAK,KAAL;AACH,CAHD;;;;;ACAA,IAAI,WAAW,QAAQ,YAAR,CAAf;;AAEA,IAAI,cAAc;;AAEd,oBAAgB;AACZ,gBAAQ,cADI;AAEZ,eAAO,aAFK;AAGZ,eAAO,aAHK;AAIZ,iBAAS,eAJG;AAKZ,gBAAQ,cALI;AAMZ,uBAAe,qBANH;AAOZ,sBAAc;AAPF,KAFF;;AAYd,YAAQ,EAZM;;AAcd,QAdc,kBAcP;AACH;AACA,aAAK,IAAI,GAAT,IAAgB,KAAK,cAArB,EAAqC;AACjC,iBAAK,MAAL,CAAY,KAAK,cAAL,CAAoB,GAApB,CAAZ,IAAwC,IAAI,KAAJ,CAAU,SAAS,UAAT,GAAsB,KAAK,cAAL,CAAoB,GAApB,CAAhC,CAAxC;AACH;AACJ,KAnBa;AAqBd,QArBc,gBAqBT,aArBS,EAqBM,QArBN,EAqBgB;AAC1B,YAAI,KAAK,MAAL,CAAY,aAAZ,EAA2B,WAA3B,GAAyC,CAA7C,EAAgD;AAC5C,iBAAK,MAAL,CAAY,aAAZ,EAA2B,WAA3B,GAAyC,CAAzC;AACH;;AAED,aAAK,MAAL,CAAY,aAAZ,EAA2B,IAA3B;;AAEA,YAAI,OAAO,QAAP,KAAoB,UAAxB,EACI,WAAW,QAAX,EAAqB,KAAK,MAAL,CAAY,aAAZ,EAA2B,QAA3B,GAAsC,IAA3D;AACP;AA9Ba,CAAlB;;AAiCA,YAAY,IAAZ;;AAGA,OAAO,OAAP,GAAiB,WAAjB;;;;;ACtCA,IAAI,WAAW,QAAQ,eAAR,CAAf;AACA,IAAI,QAAQ,QAAQ,YAAR,CAAZ;;AAEA,IAAI,aAAa;AACb;;;AAGA,sBAAkB,SAJL;;AAMb;;;AAGA,kBAAc,CATD;;AAWb,cAXa,wBAWA;AACT,YAAI,iBAAiB,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,UAAnC,CAArB;AACA,aAAK,gBAAL,GAAwB,IAAI,KAAK,MAAL,CAAY,YAAhB,CAA6B,cAA7B,EAA6C,OAAO,UAApD,EAAgE,eAAe,MAA/E,CAAxB;AACA,aAAK,gBAAL,CAAsB,CAAtB,GAA0B,SAAS,sBAAT,GAAkC,eAAe,MAAjD,GAA0D,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,OAAnC,EAA4C,MAAhI;;AAEA,eAAO,IAAP;AACH,KAjBY;AAmBb,QAnBa,kBAmBN;AACH,aAAK,gBAAL,CAAsB,YAAtB,CAAmC,CAAnC,IAAwC,CAAC,SAAS,eAAlD;AACH,KArBY;;;AAuBb;;;;AAIA,cA3Ba,wBA2BA;AACT,eAAO,KAAK,gBAAZ;AACH;AA7BY,CAAjB;;AAgCA,OAAO,OAAP,GAAiB,UAAjB;;;;;ACnCA,IAAI,WAAW,QAAQ,YAAR,CAAf;AACA,IAAI,QAAQ,QAAQ,SAAR,CAAZ;;AAEA,IAAI,cAAc,QAAQ,eAAR,CAAlB;;AAEA,IAAI,OAAO;AACP,eAAW,SADJ;AAEP,UAAM,SAFC;AAGP,iBAAa,SAHN;AAIP,cAAU,EAAC,GAAG,CAAJ,EAAO,GAAG,CAAV,EAJH;AAKP,kBAAc,KALP;;AAOP,qBAAiB,CAPV;;AASP,cATO,wBASM;AACT,aAAK,SAAL,GAAiB,IAAI,KAAK,SAAT,EAAjB;;AAEA,YAAI,eAAe,EAAnB;AACA,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,KAAK,eAAzB,EAA0C,GAA1C,EAA+C;AAC3C,yBAAa,IAAb,CAAkB,MAAM,UAAN,CAAiB,UAAU,CAAV,GAAe,MAAhC,CAAlB;AACH;AACD,aAAK,IAAL,GAAY,IAAI,KAAK,MAAL,CAAY,cAAhB,CAA+B,YAA/B,CAAZ;;AAEA,aAAK,IAAL,CAAU,cAAV,GAA2B,GAA3B;AACA,aAAK,IAAL,CAAU,IAAV;;AAEA,aAAK,IAAL,CAAU,MAAV,CAAiB,CAAjB,GAAqB,GAArB;AACA,aAAK,IAAL,CAAU,MAAV,CAAiB,CAAjB,GAAqB,GAArB;;AAEA,aAAK,IAAL,CAAU,CAAV,GAAc,GAAd;AACA,aAAK,IAAL,CAAU,CAAV,GAAc,GAAd;;AAEA,aAAK,SAAL,CAAe,QAAf,CAAwB,KAAK,IAA7B;;AAEA,aAAK,WAAL,GAAmB,EAAC,GAAG,CAAJ,EAAO,GAAG,CAAV,EAAa,OAAO,CAApB,EAAuB,QAAQ,CAA/B,EAAnB;;AAEA,eAAO,IAAP;AACH,KAhCM;AAkCP,QAlCO,kBAkCA;AACH,YAAI,KAAK,YAAT,EAAuB;AACnB,iBAAK,UAAL;AACH,SAFD,MAEO;AACH,iBAAK,UAAL;AACH;;AAED,aAAK,IAAL,CAAU,CAAV,IAAe,KAAK,QAAL,CAAc,CAA7B;AACA,aAAK,IAAL,CAAU,QAAV,GAAqB,KAAK,KAAL,CAAW,KAAK,QAAL,CAAc,CAAzB,EAA4B,SAAS,YAArC,CAArB;AACH,KA3CM;AA6CP,cA7CO,wBA6CM;AACT,aAAK,QAAL,CAAc,CAAd,IAAmB,SAAS,OAA5B;AACH,KA/CM;AAiDP,cAjDO,wBAiDM;AACT,aAAK,QAAL,CAAc,CAAd,IAAmB,SAAS,cAA5B;AACH,KAnDM;AAqDP,QArDO,kBAqDA;AACH,YAAI,SAAS,2BAAb,EAA2C;AACvC,iBAAK,QAAL,CAAc,CAAd,GAAkB,CAAlB;AACH;;AAED,YAAI,KAAK,YAAT,EAAuB;AACnB,iBAAK,KAAL;AACH,SAFD,MAEO;AACH,iBAAK,KAAL;AACH;AACJ,KA/DM;AAiEP,SAjEO,mBAiEC;AACJ,aAAK,IAAL,CAAU,CAAV,GAAc,GAAd;AACA,aAAK,IAAL,CAAU,CAAV,GAAc,GAAd;AACA,aAAK,QAAL,CAAc,CAAd,GAAkB,CAAlB;AACA,aAAK,QAAL,CAAc,CAAd,GAAkB,CAAlB;AACH,KAtEM;AAwEP,cAxEO,wBAwEM;AACT,eAAO,KAAK,IAAZ;AACH,KA1EM;AA4EP,UA5EO,oBA4EE;AACL,eAAO,KAAK,IAAL,CAAU,CAAV,GAAc,KAAK,IAAL,CAAU,MAAV,GAAmB,CAAxC;AACH,KA9EM;AAgFP,aAhFO,uBAgFK;AACR,eAAO,KAAK,IAAL,CAAU,CAAV,GAAc,KAAK,IAAL,CAAU,MAAV,GAAmB,CAAxC;AACH,KAlFM;AAoFP,YApFO,sBAoFI;AACP,eAAO,KAAK,IAAL,CAAU,CAAV,GAAc,KAAK,IAAL,CAAU,KAAV,GAAkB,CAAvC;AACH,KAtFM;AAwFP,WAxFO,qBAwFG;AACN,eAAO,KAAK,IAAL,CAAU,CAAV,GAAc,KAAK,IAAL,CAAU,KAAV,GAAkB,CAAvC;AACH,KA1FM;AA4FP,cA5FO,wBA4FM;AACT,YAAI,KAAK,YAAT,EAAuB;AACvB,aAAK,YAAL,GAAoB,IAApB;;AAEA,oBAAY,IAAZ,CAAiB,YAAY,cAAZ,CAA2B,WAA5C;AACH,KAjGM;AAmGP,cAnGO,wBAmGM;AACT,YAAI,CAAC,KAAK,YAAV,EAAwB;AACxB,aAAK,YAAL,GAAoB,KAApB;;AAEA,oBAAY,IAAZ,CAAiB,YAAY,cAAZ,CAA2B,UAA5C;AACH,KAxGM;AA0GP,SA1GO,mBA0GC;AACJ,oBAAY,IAAZ,CAAiB,YAAY,cAAZ,CAA2B,IAA5C;;AAEA,aAAK,QAAL,CAAc,CAAd,IAAmB,SAAS,gBAA5B;AACH,KA9GM;AAgHP,SAhHO,mBAgHC;AACJ,oBAAY,IAAZ,CAAiB,YAAY,cAAZ,CAA2B,IAA5C;;AAEA,aAAK,QAAL,CAAc,CAAd,IAAmB,SAAS,gBAA5B;AACH;AApHM,CAAX;;AAuHA,OAAO,OAAP,GAAiB,IAAjB;;;;;ACrHA;;IAAY,K;;;;AAPZ,IAAI,QAAQ,QAAQ,SAAR,CAAZ;AACA,IAAI,aAAa,QAAQ,cAAR,CAAjB;AACA,IAAI,QAAQ,QAAQ,SAAR,CAAZ;AACA,IAAI,OAAO,QAAQ,QAAR,CAAX;;AAEA,IAAI,cAAc,QAAQ,eAAR,CAAlB;AACA,IAAI,WAAY,QAAQ,YAAR,CAAhB;;;AAGA,IAAI,OAAO;;AAEP,cAAU,SAFH;AAGP,WAAO,SAHA;AAIP,uBAAmB,SAJZ;;AAOP,gBAAY,KAPL;;AASP;;;AAGA,SAZO,mBAYC;AACJ,aAAK,QAAL,GAAiB,MAAM,QAAN,EAAjB;AACA,cAAM,UAAN,CAAiB,KAAK,UAAL,CAAgB,IAAhB,CAAqB,IAArB,CAAjB;AACH,KAfM;;;AAiBP;;;AAGA,cApBO,wBAoBM;AAAA;;AACT,aAAK,KAAL,GAAa,IAAI,KAAK,SAAT,EAAb;;AAEA,mBAAW,UAAX;AACA,aAAK,KAAL,CAAW,QAAX,CAAoB,WAAW,UAAX,EAApB;;AAEA,cAAM,UAAN;AACA,aAAK,KAAL,CAAW,QAAX,CAAoB,MAAM,UAAN,EAApB;;AAEA,aAAK,UAAL;AACA,aAAK,KAAL,CAAW,QAAX,CAAoB,KAAK,UAAL,EAApB;;AAEA;AACA,YAAI,eAAe,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,KAAnC,CAAnB;AACA,YAAI,cAAc,IAAI,KAAK,MAAL,CAAY,YAAhB,CAA6B,YAA7B,EAA2C,OAAO,UAAlD,EAA8D,SAAS,sBAAvE,CAAlB;AACA,oBAAY,CAAZ,GAAgB,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,OAAnC,EAA4C,MAA5C,GAAqD,SAAS,sBAA9E;AACA,aAAK,KAAL,CAAW,QAAX,CAAoB,WAApB;;AAEA,aAAK,KAAL,CAAW,QAAX,CAAoB,KAAK,qBAAL,EAApB;;AAEA,aAAK,QAAL,CAAc,MAAd,CAAqB,KAAK,KAA1B;;AAEA;AACA,eAAO,gBAAP,CAAwB,OAAxB,EAAiC,UAAC,CAAD,EAAO;AACpC,gBAAI,EAAE,OAAF,IAAa,EAAjB,EAAqB,OADe,CACP;AAC7B,gBAAI,MAAK,UAAT,EAAqB;AACjB,sBAAK,aAAL;AACH,aAFD,MAEO;AACH,qBAAK,IAAL;AACH;AACJ,SAPD,EAOG,KAPH;;AASA,YAAI,kBAAkB,MAAtB,EACI,OAAO,gBAAP,CAAwB,YAAxB,EAAsC,YAAM;AACxC,gBAAI,MAAK,UAAT,EAAqB;AACrB,iBAAK,IAAL;AACH,SAHD,EADJ,KAMI,OAAO,gBAAP,CAAwB,WAAxB,EAAqC,YAAM;AACvC,gBAAI,MAAK,UAAT,EAAqB;AACrB,iBAAK,IAAL;AACH,SAHD;;AAKJ,aAAK,IAAL;AACH,KAhEM;;;AAkEP;;;AAGA,QArEO,kBAqEA;AACH,8BAAsB,KAAK,IAAL,CAAU,IAAV,CAAe,IAAf,CAAtB;;AAEA;AACA,YAAI,KAAK,UAAT,EAAqB;;AAErB,mBAAW,IAAX;AACA,cAAM,IAAN;AACA,aAAK,IAAL;;AAEA;AACA,YAAI,KAAK,MAAL,KAAgB,MAAM,aAAN,EAAhB,IAAyC,KAAK,YAAlD,EAAgE;AAC5D,iBAAK,UAAL;AACH,SAFD,MAEO,IAAI,KAAK,MAAL,MAAiB,MAAM,aAAN,EAAjB,IAA0C,CAAC,KAAK,YAApD,EAAkE;AACrE,iBAAK,UAAL;AACH;;AAED;AACA,YAAI,KAAK,MAAL,MAAiB,MAAM,aAAN,CAAoB,CAApB,GAAwB,MAAM,aAAN,CAAoB,MAAjE,EAAyE;AACrE,iBAAK,QAAL;AACH;;AAED;AACA,YAAI,KAAK,SAAL,MAAoB,MAAM,aAAN,CAAoB,CAApB,GAAwB,MAAM,aAAN,CAAoB,MAA5C,GAAqD,SAAS,sBAA9D,GAAuF,SAAS,sBAAxH,EAAgJ;AAC5I,iBAAK,QAAL;AACH;;AAED,YAAI,MAAM,aAAN,CAAoB,IAApB,CAAJ,EAA+B;AAC3B,iBAAK,QAAL;AACH;;AAED,aAAK,QAAL,CAAc,MAAd,CAAqB,KAAK,KAA1B;AACH,KArGM;AAuGP,YAvGO,sBAuGI;AACP,aAAK,IAAL;AACA,aAAK,aAAL;;AAEA;AACA,aAAK,iBAAL,CAAuB,WAAvB,CAAmC,KAAK,WAAxC;AACA,aAAK,iBAAL,CAAuB,WAAvB,CAAmC,KAAK,eAAxC;;AAEA,aAAK,WAAL,GAAmB,MAAM,cAAN,CAAqB,MAAM,KAA3B,EAAkC,MAAM,SAAN,CAAgB,KAAlD,CAAnB;AACA,aAAK,WAAL,CAAiB,CAAjB,GAAqB,KAAK,cAAL,CAAoB,KAApB,GAA4B,CAA5B,GAAgC,KAAK,WAAL,CAAiB,KAAjB,GAAyB,CAAzD,GAA6D,CAAlF;AACA,aAAK,WAAL,CAAiB,CAAjB,GAAqB,EAArB;;AAEA,aAAK,eAAL,GAAuB,MAAM,cAAN,CAAqB,MAAM,SAA3B,EAAsC,MAAM,SAAN,CAAgB,KAAtD,CAAvB;AACA,aAAK,eAAL,CAAqB,CAArB,GAAyB,KAAK,cAAL,CAAoB,KAApB,GAA4B,CAA5B,GAAgC,KAAK,eAAL,CAAqB,KAArB,GAA6B,CAA7D,GAAiE,CAA1F;AACA,aAAK,eAAL,CAAqB,CAArB,GAAyB,GAAzB;;AAEA,aAAK,iBAAL,CAAuB,QAAvB,CAAgC,KAAK,WAArC;AACA,aAAK,iBAAL,CAAuB,QAAvB,CAAgC,KAAK,eAArC;;AAEA,aAAK,iBAAL,CAAuB,OAAvB,GAAiC,IAAjC;AACH,KA3HM;AA6HP,yBA7HO,mCA6HiB;AACpB,aAAK,iBAAL,GAAyB,IAAI,KAAK,SAAT,EAAzB;AACA,aAAK,iBAAL,CAAuB,CAAvB,GAA2B,CAAC,MAAM,aAAN,CAAoB,MAApB,GAA6B,SAAS,sBAAtC,GAA+D,SAAS,sBAAzE,IAAmG,CAAnG,GAAuG,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,SAAnC,EAA8C,MAA9C,GAAuD,CAAzL;AACA,aAAK,iBAAL,CAAuB,CAAvB,GAA2B,GAA3B;;AAEA,aAAK,cAAL,GAAsB,IAAI,KAAK,MAAT,CAAgB,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,SAAnC,CAAhB,CAAtB;;AAEA,aAAK,iBAAL,CAAuB,QAAvB,CAAgC,KAAK,cAArC;;AAEA,aAAK,WAAL,GAAmB,MAAM,cAAN,CAAqB,MAAM,KAA3B,EAAkC,MAAM,SAAN,CAAgB,KAAlD,CAAnB;AACA,aAAK,WAAL,CAAiB,CAAjB,GAAqB,KAAK,cAAL,CAAoB,KAApB,GAA4B,CAA5B,GAAgC,KAAK,WAAL,CAAiB,KAAjB,GAAyB,CAAzD,GAA6D,CAAlF;AACA,aAAK,WAAL,CAAiB,CAAjB,GAAqB,EAArB;;AAEA,aAAK,eAAL,GAAuB,MAAM,cAAN,CAAqB,MAAM,SAA3B,EAAsC,MAAM,SAAN,CAAgB,KAAtD,CAAvB;AACA,aAAK,eAAL,CAAqB,CAArB,GAAyB,KAAK,cAAL,CAAoB,KAApB,GAA4B,CAA5B,GAAgC,KAAK,eAAL,CAAqB,KAArB,GAA6B,CAA7D,GAAiE,CAA1F;AACA,aAAK,eAAL,CAAqB,CAArB,GAAyB,GAAzB;;AAEA,aAAK,iBAAL,CAAuB,QAAvB,CAAgC,KAAK,WAArC;AACA,aAAK,iBAAL,CAAuB,QAAvB,CAAgC,KAAK,eAArC;;AAEA,YAAI,gBAAgB,IAAI,KAAK,MAAT,CAAgB,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,OAAnC,CAAhB,CAApB;AACA,sBAAc,CAAd,GAAkB,KAAK,cAAL,CAAoB,KAApB,GAA4B,CAA5B,GAAgC,cAAc,KAAd,GAAsB,CAAtD,GAA0D,CAA5E;AACA,sBAAc,CAAd,GAAkB,GAAlB;AACA,sBAAc,WAAd,GAA4B,IAA5B;AACA,sBAAc,UAAd,GAA2B,IAA3B;AACA,sBAAc,aAAd,GAA8B,SAA9B;;AAEA,sBAAc,WAAd,CAA0B,OAA1B,EAAmC,KAAK,aAAL,CAAmB,IAAnB,CAAwB,IAAxB,CAAnC;;AAEA,YAAI,kBAAkB,MAAtB,EAA8B;AAC1B,0BAAc,WAAd,CAA0B,YAA1B,EAAwC,KAAK,aAAL,CAAmB,IAAnB,CAAwB,IAAxB,CAAxC;AACH;;AAID,aAAK,iBAAL,CAAuB,QAAvB,CAAgC,aAAhC;;AAEA,aAAK,iBAAL,CAAuB,OAAvB,GAAiC,KAAjC;;AAEA,eAAO,KAAK,iBAAZ;AACH,KArKM;AAuKP,iBAvKO,2BAuKS;AACZ,aAAK,OAAL;AACA,aAAK,iBAAL,CAAuB,OAAvB,GAAiC,KAAjC;AACH,KA1KM;;;AA4KP;;;AAGA,QA/KO,kBA+KA;AACH,aAAK,UAAL,GAAkB,IAAlB;AACH,KAjLM;;;AAmLP;;;;AAIA,WAvLO,qBAuLG;AACN,cAAM,KAAN;AACA,aAAK,KAAL;;AAEA,aAAK,UAAL,GAAkB,KAAlB;AACH,KA5LM;AA8LP,iBA9LO,2BA8LS;AACZ,oBAAY,IAAZ,CAAiB,YAAY,cAAZ,CAA2B,GAA5C,EACI,YAAY,IAAZ,CAAiB,IAAjB,CAAsB,WAAtB,EAAmC,YAAY,cAAZ,CAA2B,GAA9D,CADJ;AAGH;AAlMM,CAAX;;AAsMA,OAAO,OAAP,GAAiB,IAAjB;;;;;AC/MA,IAAI,WAAW,QAAQ,YAAR,CAAf;AACA,IAAI,QAAQ,QAAQ,YAAR,CAAZ;;AAEA,IAAI,cAAc,QAAQ,eAAR,CAAlB;;AAEA,IAAM,aAAa;AACf,UAAM,CADS;AAEf,YAAQ,CAAC;AAFM,CAAnB;;AAKA,IAAI,QAAQ;AACR;;;AAGA,eAAW,SAJH;AAKR;;;AAGA,iBAAa,SARL;;AAUR,mBAAe,SAVP;;AAYR,oBAAgB,SAZR;AAaR,WAAO,EAbC;;AAeR,iBAAa,SAfL;AAgBR,oBAAgB,SAhBR;AAiBR,uBAAmB,SAjBX;;AAmBR,qBAAiB,WAAW,EAnBpB;;AAqBR,oBAAgB,CArBR;AAsBR,sBAAkB,CAtBV;;AAwBR,sBAAkB,KAxBV;;AA0BR,iBAAa,GA1BL;;AA4BR,kBAAc,GA5BN;AA6BR,uBAAmB,GA7BX;;AA+BR,WAAO,CA/BC;AAgCR,eAAW,CAhCH;AAiCR,oBAAgB,SAjCR;;AAmCR,cAnCQ,wBAmCK;AACT,aAAK,SAAL,GAAiB,IAAI,KAAK,SAAT,EAAjB;;AAEA,aAAK,SAAL,CAAe,QAAf,CAAwB,KAAK,cAAL,EAAxB;AACA,aAAK,SAAL,CAAe,QAAf,CAAwB,KAAK,YAAL,EAAxB;;AAEA;AACA,aAAK,cAAL,GAAsB,KAAK,eAA3B;AACA,aAAK,WAAL,GAAmB,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,IAAnC,CAAnB;AACA,aAAK,cAAL,GAAsB,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,MAAnC,CAAtB;AACA,aAAK,iBAAL,GAAyB,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,QAAnC,CAAzB;;AAEA,aAAK,cAAL,GAAsB,IAAI,KAAK,SAAT,EAAtB;;AAEA,aAAK,aAAL;;AAEA,aAAK,SAAL,CAAe,QAAf,CAAwB,KAAK,cAA7B;;AAEA;AACA,aAAK,cAAL,GAAsB,IAAI,KAAK,SAAT,EAAtB;AACA,aAAK,cAAL,CAAoB,QAApB,CAA6B,MAAM,cAAN,CAAqB,KAAK,KAA1B,EAAiC,MAAM,SAAN,CAAgB,GAAjD,CAA7B;;AAEA;AACA,aAAK,cAAL,CAAoB,CAApB,GAAwB,EAAxB;AACA,aAAK,cAAL,CAAoB,CAApB,GAAwB,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,OAAnC,EAA4C,MAA5C,GAAqD,EAA7E;;AAEA,aAAK,SAAL,CAAe,QAAf,CAAwB,KAAK,cAA7B;;AAEA,eAAO,IAAP;AACH,KAhEO;AAkER,SAlEQ,mBAkEA;AACJ,aAAK,KAAL,GAAa,CAAb;AACA,aAAK,cAAL,CAAoB,WAApB,CAAgC,KAAK,cAAL,CAAoB,QAApB,CAA6B,CAA7B,CAAhC;AACA,aAAK,cAAL,CAAoB,QAApB,CAA6B,MAAM,cAAN,CAAqB,KAAK,KAA1B,EAAiC,MAAM,SAAN,CAAgB,GAAjD,CAA7B;;AAEA,aAAK,cAAL,CAAoB,CAApB,GAAwB,CAAxB;AACA,aAAK,cAAL,CAAoB,QAApB,CAA6B,MAA7B,CAAoC,CAApC;AACA,aAAK,KAAL,GAAa,EAAb;AACA,aAAK,gBAAL,GAAwB,KAAxB;AACA,aAAK,cAAL,GAAsB,KAAK,eAA3B;AACA,aAAK,gBAAL,GAAwB,CAAxB;AACA,aAAK,aAAL;AACH,KA9EO;AAgFR,QAhFQ,kBAgFD;AACH,aAAK,aAAL,CAAmB,YAAnB,CAAgC,CAAhC,IAAqC,CAAC,SAAS,YAA/C;AACA,aAAK,WAAL,CAAiB,YAAjB,CAA8B,CAA9B,IAAmC,CAAC,SAAS,YAA7C;;AAEA;AACA,aAAK,cAAL,CAAoB,CAApB,IAAyB,CAAC,SAAS,YAAnC;;AAEA;AACA,YAAI,KAAK,KAAL,CAAW,MAAX,GAAoB,CAAxB,EAA2B;;AAEvB,gBAAI,KAAK,cAAL,CAAoB,CAApB,GAAwB,CAAC,KAAK,KAAL,CAAW,CAAX,EAAc,CAAf,GAAmB,KAAK,WAAL,CAAiB,KAAhE,EAAuE;AACnE,qBAAK,cAAL,CAAoB,WAApB,CAAgC,KAAK,KAAL,CAAW,CAAX,CAAhC;AACA,qBAAK,KAAL,CAAW,KAAX;;AAEA,qBAAK,aAAL;AACH;AAEJ;AACJ,KAlGO;;;AAoGR;;;AAGA,iBAvGQ,2BAuGQ;AACZ,eAAO,SAAS,sBAAhB;AACH,KAzGO;;;AA2GR;;;;AAIA,cA/GQ,wBA+GK;AACT,eAAO,KAAK,SAAZ;AACH,KAjHO;AAmHR,iBAnHQ,yBAmHM,IAnHN,EAmHY;;AAEhB;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAI,kBAAkB,CAAtB;;AAEA,YAAI,OAAO,KAAK,cAAL,CAAoB,CAApB,GAAwB,KAAK,KAAL,CAAW,CAAX,EAAc,CAAtC,GAA0C,eAArD;AACA,YAAI,QAAQ,OAAO,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,IAAnC,EAAyC,KAAhD,GAAwD,eAApE;;AAEA;AACA,YAAI,KAAK,QAAL,KAAkB,IAAlB,IAA0B,KAAK,OAAL,KAAiB,KAA/C,EAAsD;;AAElD,iBAAK,gBAAL,GAAwB,IAAxB;;AAEA;AACA,gBAAI,KAAK,MAAL,KAAgB,KAAK,KAAL,CAAW,CAAX,EAAc,GAAd,CAAkB,GAAlC,IAAyC,KAAK,SAAL,KAAmB,KAAK,KAAL,CAAW,CAAX,EAAc,GAAd,CAAkB,MAAlF,EAA0F;AACtF,uBAAO,IAAP;AACH;AACJ,SARD,MAQO,IAAI,KAAK,gBAAT,EAA2B;AAC9B;AACA,iBAAK,cAAL;AACA,iBAAK,gBAAL,GAAwB,KAAxB;AACH;;AAED,eAAO,KAAP;AACH,KAlJO;AAoJR,kBApJQ,4BAoJS;AACb,YAAI,iBAAiB,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,OAAnC,CAArB;;AAEA,aAAK,aAAL,GAAqB,IAAI,KAAK,MAAL,CAAY,YAAhB,CAA6B,cAA7B,EAA6C,OAAO,UAApD,EAAgE,eAAe,MAA/E,CAArB;;AAEA,eAAO,KAAK,aAAZ;AACH,KA1JO;AA4JR,gBA5JQ,0BA4JO;AACX,YAAI,eAAe,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,KAAnC,CAAnB;;AAEA,aAAK,WAAL,GAAmB,IAAI,KAAK,MAAL,CAAY,YAAhB,CAA6B,YAA7B,EAA2C,OAAO,UAAlD,EAA8D,aAAa,MAA3E,CAAnB;AACA,aAAK,WAAL,CAAiB,CAAjB,GAAqB,SAAS,sBAAT,GAAkC,SAAS,sBAA3C,GAAoE,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,OAAnC,EAA4C,MAArI;;AAEA,eAAO,KAAK,WAAZ;AACH,KAnKO;AAqKR,iBArKQ,2BAqKQ;AACZ,YAAI,qBAAqB,KAAK,IAAL,CAAU,OAAO,UAAP,GAAoB,KAAK,YAAnC,CAAzB;;AAEA,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,kBAApB,EAAwC,GAAxC,EAA6C;AACzC,gBAAI,OAAO,KAAK,WAAL,CAAiB,KAAK,oBAAL,EAAjB,EAA8C,KAAK,cAAnD,CAAX;AACA,iBAAK,CAAL,GAAS,KAAK,iBAAL,GAAyB,KAAK,YAAL,GAAoB,CAAtD;AACA,iBAAK,cAAL,CAAoB,QAApB,CAA6B,IAA7B;AACA,iBAAK,KAAL,CAAW,IAAX,CAAgB,IAAhB;;AAEA,iBAAK,cAAL,IAAuB,CAAC,CAAxB;AACA,iBAAK,gBAAL;AACH;AACJ,KAjLO;AAmLR,iBAnLQ,2BAmLQ;AACZ;AACA,YAAI,OAAO,KAAK,WAAL,CAAiB,KAAK,oBAAL,EAAjB,EAA8C,KAAK,cAAnD,CAAX;AACA,aAAK,CAAL,GAAS,KAAK,gBAAL,GAAwB,KAAK,YAA7B,GAA4C,KAAK,iBAA1D;AACA,aAAK,cAAL,CAAoB,QAApB,CAA6B,IAA7B;AACA,aAAK,KAAL,CAAW,IAAX,CAAgB,IAAhB;;AAEA,aAAK,cAAL,IAAuB,CAAC,CAAxB;AACA,aAAK,gBAAL;AACH,KA5LO;AA8LR,eA9LQ,uBA8LI,MA9LJ,EA8LY,SA9LZ,EA8LuB;AAC3B,YAAI,YAAY,IAAI,KAAK,SAAT,EAAhB;;AAEA,YAAI,kBAAkB,SAAS,sBAAT,GAAkC,SAAS,sBAAjE;;AAEA,YAAI,cAAc,WAAW,EAA7B,EAAiC;AAC7B,sBAAU,QAAV,CAAmB,KAAK,mBAAL,CAAyB,MAAzB,CAAnB;AACH,SAFD,MAEO,IAAI,cAAc,WAAW,IAA7B,EAAmC;AACtC,sBAAU,QAAV,CAAmB,KAAK,qBAAL,CAA2B,MAA3B,CAAnB;AACH;;AAED;AACA,YAAI,SAAS,KAAK,WAAd,GAA4B,eAAhC,EAAiD;AAC7C;AACA,gBAAI,qBAAqB,kBAAkB,MAAlB,GAA2B,KAAK,WAAzD;AACA,gBAAI,cAAc,WAAW,EAA7B,EACI,UAAU,QAAV,CAAmB,KAAK,qBAAL,CAA2B,kBAA3B,CAAnB;;AAEJ,gBAAI,cAAc,WAAW,IAA7B,EACI,UAAU,QAAV,CAAmB,KAAK,mBAAL,CAAyB,kBAAzB,CAAnB;AACP;;AAED;AACA,YAAI,MAAM,CAAC,cAAc,WAAW,EAAzB,GAA8B,kBAAkB,MAAlB,GAA2B,KAAK,WAA9D,GAA4E,MAA7E,IAAuF,KAAK,aAAL,CAAmB,MAApH;AACA,YAAI,SAAS,CAAC,cAAc,WAAW,EAAzB,GAA8B,kBAAkB,MAAhD,GAAyD,SAAS,KAAK,WAAxE,IAAuF,KAAK,aAAL,CAAmB,MAAvH;AACA,kBAAU,GAAV,GAAgB,EAAE,QAAF,EAAO,cAAP,EAAhB;;AAEA,eAAO,SAAP;AACH,KA1NO;AA4NR,uBA5NQ,+BA4NY,MA5NZ,EA4NoB;AACxB,YAAI,YAAY,IAAI,KAAK,SAAT,EAAhB;;AAEA,YAAI,UAAU,IAAI,KAAK,MAAT,CAAgB,KAAK,cAArB,CAAd;AACA,kBAAU,QAAV,CAAmB,OAAnB;;AAEA,YAAI,iBAAiB,SAAS,KAAK,cAAL,CAAoB,MAAlD;;AAEA,YAAI,OAAO,IAAI,KAAK,MAAL,CAAY,YAAhB,CAA6B,KAAK,WAAlC,EAA+C,KAAK,WAAL,CAAiB,KAAhE,EAAuE,cAAvE,CAAX;AACA,aAAK,CAAL,GAAS,KAAK,cAAL,CAAoB,MAA7B;AACA,kBAAU,QAAV,CAAmB,IAAnB;;AAEA;AACA,kBAAU,CAAV,GAAc,SAAS,sBAAT,GAAkC,SAAS,sBAA3C,GAAoE,MAApE,GAA6E,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,OAAnC,EAA4C,MAAvI;;AAEA,eAAO,SAAP;AACH,KA5OO;AA8OR,yBA9OQ,iCA8Oc,MA9Od,EA8OsB;AAC1B,YAAI,YAAY,IAAI,KAAK,SAAT,EAAhB;;AAEA,YAAI,iBAAiB,SAAS,KAAK,iBAAL,CAAuB,MAArD;;AAEA,YAAI,OAAO,IAAI,KAAK,MAAL,CAAY,YAAhB,CAA6B,KAAK,WAAlC,EAA+C,KAAK,WAAL,CAAiB,KAAhE,EAAuE,cAAvE,CAAX;AACA,kBAAU,QAAV,CAAmB,IAAnB;;AAEA,YAAI,aAAa,IAAI,KAAK,MAAT,CAAgB,KAAK,iBAArB,CAAjB;AACA,mBAAW,CAAX,GAAe,cAAf;AACA,kBAAU,QAAV,CAAmB,UAAnB;;AAEA;AACA,kBAAU,CAAV,GAAc,MAAM,UAAN,CAAiB,SAAS,QAAT,CAAkB,OAAnC,EAA4C,MAA1D;;AAEA,eAAO,SAAP;AACH,KA9PO;AAgQR,kBAhQQ,4BAgQS;AACb,oBAAY,IAAZ,CAAiB,YAAY,cAAZ,CAA2B,KAA5C;AACA,aAAK,KAAL;;AAEA,YAAI,KAAK,KAAL,GAAa,KAAK,SAAtB,EAAiC,KAAK,SAAL,GAAiB,KAAK,KAAtB;;AAEjC;AACA,aAAK,cAAL,CAAoB,WAApB,CAAgC,KAAK,cAAL,CAAoB,QAApB,CAA6B,CAA7B,CAAhC;;AAEA,aAAK,cAAL,CAAoB,QAApB,CAA6B,MAAM,cAAN,CAAqB,KAAK,KAA1B,EAAiC,MAAM,SAAN,CAAgB,GAAjD,CAA7B;AACJ,KA1QQ;AA4QR,wBA5QQ,kCA4Qe;AACnB;AACA,YAAI,YAAY,GAAhB;AACA,YAAI,YAAY,GAAhB;;AAEA,eAAO,KAAK,MAAL,MAAiB,YAAY,SAA7B,IAA0C,SAAjD;AACH;AAlRO,CAAZ;;AAqRA,OAAO,OAAP,GAAiB,KAAjB;;;;;AC/RA,IAAM,WAAW;AACb;;;AAGA,eAAW,oBAJE;;AAMb,gBAAY,gBANC;;AAQb;;;AAGA,4BAAwB,GAXX;;AAab,4BAAwB,GAbX;;AAeb;;;AAGA,kBAAc,CAlBD;;AAoBb;;;AAGA,qBAAiB,CAvBJ;;AAyBb;;;AAGA,aAAS,GA5BI;;AA8Bb;;;AAGA,oBAAgB,GAjCH;;AAmCb;;;AAGA,sBAAkB,GAtCL;;AAwCb;;;AAGA,iCAA6B,IA3ChB;;AA6Cb,cAAU;AACN,sBAAc,SADR;AAEN,iBAAS,UAFH;AAGN,mBAAW,aAHL;AAIN,gBAAQ,UAJF;AAKN,kBAAU,aALJ;AAMN,oBAAY,eANN;AAON,iBAAS,WAPH;AAQN,qBAAa,gBARP;AASN,mBAAW,YATL;AAUN,iBAAS,gBAVH;AAWN,iBAAS,gBAXH;AAYN,iBAAS,gBAZH;AAaN,iBAAS,gBAbH;AAcN,iBAAS,gBAdH;AAeN,iBAAS,gBAfH;AAgBN,iBAAS,gBAhBH;AAiBN,iBAAS,gBAjBH;AAkBN,iBAAS,gBAlBH;AAmBN,iBAAS,gBAnBH;AAoBN,mBAAW,kBApBL;AAqBN,mBAAW,kBArBL;AAsBN,mBAAW,kBAtBL;AAuBN,mBAAW,kBAvBL;AAwBN,mBAAW,kBAxBL;AAyBN,mBAAW,kBAzBL;AA0BN,mBAAW,kBA1BL;AA2BN,mBAAW,kBA3BL;AA4BN,mBAAW,kBA5BL;AA6BN,mBAAW;AA7BL;AA7CG,CAAjB;;AA8EA,OAAO,OAAP,GAAiB,QAAjB;;;;;AC9EA,IAAI,QAAQ;AACR,YADQ,sBACG;AACP,YAAI,WAAW,KAAK,kBAAL,CAAwB,OAAO,UAA/B,EAA2C,OAAO,WAAlD,CAAf;AACA,iBAAS,IAAT,CAAc,KAAd,CAAoB,QAApB,GAA+B,UAA/B;AACA,iBAAS,IAAT,CAAc,KAAd,CAAoB,OAApB,GAA8B,OAA9B;AACA,iBAAS,eAAT,GAA2B,QAA3B;AACA,iBAAS,UAAT,GAAsB,IAAtB;;AAEA,iBAAS,IAAT,CAAc,WAAd,CAA0B,SAAS,IAAnC;;AAEA,eAAO,QAAP;AACH,KAXO;AAaR,cAbQ,sBAaG,QAbH,EAaa;AACjB,aAAK,MAAL,CAAY,GAAZ,CAAgB,oBAAhB,EAAsC,IAAtC,CAA2C,QAA3C;AACH;AAfO,CAAZ;;AAkBA,OAAO,OAAP,GAAiB,KAAjB;;;;;AClBA,IAAI,WAAW,QAAQ,YAAR,CAAf;;AAEA,IAAI,QAAQ;;AAER,eAAW;AACP,iBAAS,CADF;AAEP,eAAO;AAFA,KAFH;;AAOR;;;;;AAKA,cAZQ,sBAYG,IAZH,EAYS;AACb,eAAO,KAAK,MAAL,CAAY,SAAZ,CAAsB,SAAS,SAA/B,EAA0C,QAA1C,CAAmD,IAAnD,CAAP;AACH,KAdO;;;AAgBR;;;;;AAKA,qCArBQ,6CAqB0B,SArB1B,EAqBqC,OArBrC,EAqB8C;AAClD,YAAI,gBAAgB,KAAK,sBAAL,CAA4B,QAAQ,KAApC,CAApB;;AAEA,aAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,aAApB,EAAmC,GAAnC,EAAwC;AACpC,gBAAI,OAAO,IAAI,KAAK,MAAT,CAAgB,OAAhB,CAAX;AACA,iBAAK,CAAL,GAAS,KAAK,KAAL,GAAa,CAAtB;AACA,sBAAU,QAAV,CAAmB,IAAnB;AACH;AACJ,KA7BO;AA+BR,kBA/BQ,0BA+BO,KA/BP,EA+Bc,IA/Bd,EA+BoB;AACxB,YAAI,cAAc,MAAM,QAAN,EAAlB;;AAEA,YAAI,gBAAgB,SAAS,KAAK,SAAL,CAAe,GAAxB,GAA8B,MAA9B,GAAuC,QAA3D;AACA,YAAI,gBAAgB,SAAS,KAAK,SAAL,CAAe,GAAxB,GAA8B,EAA9B,GAAmC,EAAvD;;AAGA,YAAI,kBAAkB,IAAI,KAAK,SAAT,EAAtB;;AAEA,aAAK,IAAI,IAAI,CAAR,EAAW,MAAM,YAAY,MAAlC,EAA0C,IAAI,GAA9C,EAAmD,GAAnD,EAAwD;AACpD,gBAAI,QAAQ,IAAI,KAAK,MAAT,CAAgB,KAAK,UAAL,CAAgB,SAAS,QAAT,CAAkB,gBAAgB,YAAY,MAAZ,CAAmB,CAAnB,CAAlC,CAAhB,CAAhB,CAAZ;AACA,kBAAM,CAAN,GAAU,IAAI,aAAd;AACA,4BAAgB,QAAhB,CAAyB,KAAzB;AACH;;AAED,eAAO,eAAP;AACH,KA/CO;AAiDR,0BAjDQ,kCAiDe,SAjDf,EAiD0B;AAC9B,eAAO,KAAK,IAAL,CAAU,OAAO,UAAP,GAAoB,SAA9B,IAA2C,CAAlD;AACH;AAnDO,CAAZ;;AAuDA,OAAO,OAAP,GAAiB,KAAjB","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function() {\r\n    let game = require('./game');\r\n    game.start();\r\n})();\r\n\r\n","let settings = require('./settings');\r\n\r\nlet audioPlayer = {\r\n\r\n    audioFragments: {\r\n        'FLAP': 'sfx_wing.ogg',\r\n        'HIT': 'sfx_hit.ogg',\r\n        'DIE': 'sfx_die.ogg',\r\n        'POINT': 'sfx_point.ogg',\r\n        'SWIM': 'sfx_blub.ogg',\r\n        'ENTER_WATER': 'sfx_water-enter.ogg',\r\n        'EXIT_WATER': 'sfx_water-exit.ogg',\r\n    },\r\n\r\n    _audio: [],\r\n\r\n    init() {\r\n        // Todo: Maybe we need to wait with starting the game until these have been loaded\r\n        for (let key in this.audioFragments) {\r\n            this._audio[this.audioFragments[key]] = new Audio(settings.soundsPath + this.audioFragments[key]);\r\n        }\r\n    },\r\n\r\n    play(audioFragment, callback) {\r\n        if (this._audio[audioFragment].currentTime > 0) {\r\n            this._audio[audioFragment].currentTime = 0;\r\n        }\r\n\r\n        this._audio[audioFragment].play();\r\n\r\n        if (typeof callback === 'function')\r\n            setTimeout(callback, this._audio[audioFragment].duration * 1000);\r\n    }\r\n};\r\n\r\naudioPlayer.init();\r\n\r\n\r\nmodule.exports = audioPlayer;\r\n","let settings = require('./settings.js');\r\nlet utils = require('./utils.js');\r\n\r\nvar background = {\r\n    /**\r\n     * The container that will contain all background tiles lined up\r\n     */\r\n    backgroundSprite: undefined,\r\n\r\n    /**\r\n     * The width of one background tile, is needed in some calculations/checks\r\n     */\r\n    skyTileWidth: 0,\r\n\r\n    initialize() {\r\n        let skyTileTexture = utils.getTexture(settings.textures.background)\r\n        this.backgroundSprite = new PIXI.extras.TilingSprite(skyTileTexture, window.innerWidth, skyTileTexture.height);\r\n        this.backgroundSprite.y = settings.playableAreaAboveWater - skyTileTexture.height + utils.getTexture(settings.textures.ceiling).height;\r\n\r\n        return this;\r\n    },\r\n\r\n    loop() {\r\n        this.backgroundSprite.tilePosition.x += -settings.backgroundSpeed;\r\n    },\r\n\r\n    /**\r\n     * Get the element that needs to be rendered\r\n     * @returns {Container}\r\n     */\r\n    getElement() {\r\n        return this.backgroundSprite;\r\n    }\r\n};\r\n\r\nmodule.exports = background;\r\n","let settings = require('./settings');\r\nlet utils = require('./utils');\r\n\r\nlet audioPlayer = require('./audioPlayer');\r\n\r\nlet bird = {\r\n    container: undefined,\r\n    bird: undefined,\r\n    boundingBox: undefined,\r\n    velocity: {x: 0, y: 0},\r\n    isBelowWater: false,\r\n\r\n    animationFrames: 4,\r\n\r\n    initialize() {\r\n        this.container = new PIXI.Container();\r\n\r\n        let spriteFrames = [];\r\n        for (let i = 0; i < this.animationFrames; i++) {\r\n            spriteFrames.push(utils.getTexture('bird_' + i +  '.png'));\r\n        }\r\n        this.bird = new PIXI.extras.AnimatedSprite(spriteFrames);\r\n\r\n        this.bird.animationSpeed = 0.2;\r\n        this.bird.play();\r\n\r\n        this.bird.anchor.x = 0.5;\r\n        this.bird.anchor.y = 0.5;\r\n\r\n        this.bird.y = 150;\r\n        this.bird.x = 100;\r\n\r\n        this.container.addChild(this.bird);\r\n\r\n        this.boundingBox = {x: 0, y: 0, width: 0, height: 0};\r\n\r\n        return this;\r\n    },\r\n\r\n    loop() {\r\n        if (this.isBelowWater) {\r\n            this.belowWater();\r\n        } else {\r\n            this.aboveWater();\r\n        }\r\n\r\n        this.bird.y += this.velocity.y;\r\n        this.bird.rotation = Math.atan2(this.velocity.y, settings.forwardSpeed);\r\n    },\r\n\r\n    aboveWater() {\r\n        this.velocity.y += settings.gravity;\r\n    },\r\n\r\n    belowWater() {\r\n        this.velocity.y -= settings.waterPushForce;\r\n    },\r\n\r\n    flap() {\r\n        if (settings.shouldBirdFlapResetVelocity ) {\r\n            this.velocity.y = 0;\r\n        }\r\n\r\n        if (this.isBelowWater) {\r\n            this._swim();\r\n        } else {\r\n            this._flap();\r\n        }\r\n    },\r\n\r\n    reset() {\r\n        this.bird.y = 150;\r\n        this.bird.x = 100;\r\n        this.velocity.x = 0;\r\n        this.velocity.y = 0;\r\n    },\r\n\r\n    getElement() {\r\n        return this.bird;\r\n    },\r\n\r\n    getTop() {\r\n        return this.bird.y - this.bird.height / 2;\r\n    },\r\n\r\n    getBottom() {\r\n        return this.bird.y + this.bird.height / 2;\r\n    },\r\n\r\n    getRight() {\r\n        return this.bird.x + this.bird.width / 2;\r\n    },\r\n\r\n    getLeft() {\r\n        return this.bird.x - this.bird.width / 2;\r\n    },\r\n\r\n    enterWater() {\r\n        if (this.isBelowWater) return;\r\n        this.isBelowWater = true;\r\n\r\n        audioPlayer.play(audioPlayer.audioFragments.ENTER_WATER);\r\n    },\r\n\r\n    leaveWater() {\r\n        if (!this.isBelowWater) return;\r\n        this.isBelowWater = false;\r\n\r\n        audioPlayer.play(audioPlayer.audioFragments.EXIT_WATER);\r\n    },\r\n\r\n    _flap() {\r\n        audioPlayer.play(audioPlayer.audioFragments.FLAP);\r\n\r\n        this.velocity.y -= settings.birdFlapVelocity;\r\n    },\r\n\r\n    _swim() {\r\n        audioPlayer.play(audioPlayer.audioFragments.SWIM);\r\n\r\n        this.velocity.y += settings.birdFlapVelocity;\r\n    }\r\n};\r\n\r\nmodule.exports = bird;\r\n","let setup = require('./setup');\r\nlet background = require('./background');\r\nlet level = require('./level');\r\nlet bird = require('./bird');\r\n\r\nlet audioPlayer = require('./audioPlayer');\r\nlet settings =  require('./settings');\r\nimport * as utils from \"./utils\";\r\n\r\nlet game = {\r\n\r\n    renderer: undefined,\r\n    stage: undefined,\r\n    gameOverContainer: undefined,\r\n\r\n\r\n    hasStopped: false,\r\n\r\n    /**\r\n     * Start the game\r\n     */\r\n    start() {\r\n        this.renderer  = setup.renderer();\r\n        setup.loadAssets(this.initialize.bind(this));\r\n    },\r\n\r\n    /**\r\n     * Initialize all required parts of the game\r\n     */\r\n    initialize() {\r\n        this.stage = new PIXI.Container();\r\n\r\n        background.initialize();\r\n        this.stage.addChild(background.getElement());\r\n\r\n        level.initialize();\r\n        this.stage.addChild(level.getElement());\r\n\r\n        bird.initialize();\r\n        this.stage.addChild(bird.getElement());\r\n\r\n        // Render the water\r\n        let waterTexture = utils.getTexture(settings.textures.WATER);\r\n        let waterSprite = new PIXI.extras.TilingSprite(waterTexture, window.innerWidth, settings.playableAreaBelowWater);\r\n        waterSprite.y = utils.getTexture(settings.textures.ceiling).height + settings.playableAreaAboveWater;\r\n        this.stage.addChild(waterSprite);\r\n\r\n        this.stage.addChild(this._createGameOverScreen());\r\n\r\n        this.renderer.render(this.stage);\r\n\r\n        // Todo: Add proper input handling\r\n        window.addEventListener(\"keyup\", (e) => {\r\n            if (e.keyCode != 32) return; // Not spacebar\r\n            if (this.hasStopped) {\r\n                this._clickRestart();\r\n            } else {\r\n                bird.flap();\r\n            }\r\n        }, false);\r\n\r\n        if (\"ontouchstart\" in window)\r\n            window.addEventListener(\"touchstart\", () => {\r\n                if (this.hasStopped) return;\r\n                bird.flap();\r\n            });\r\n        else\r\n            window.addEventListener(\"mousedown\", () => {\r\n                if (this.hasStopped) return;\r\n                bird.flap();\r\n            });\r\n\r\n        this.loop();\r\n    },\r\n\r\n    /**\r\n     * The game loop\r\n     */\r\n    loop() {\r\n        requestAnimationFrame(this.loop.bind(this));\r\n\r\n        // This basically causes the game to 'freeze'. This should change the updating to menu and such\r\n        if (this.hasStopped) return;\r\n\r\n        background.loop();\r\n        level.loop();\r\n        bird.loop();\r\n\r\n        // Check if the bird is below or underneath the water\r\n        if (bird.getTop() < level.getWaterLevel() && bird.isBelowWater) {\r\n            bird.leaveWater();\r\n        } else if (bird.getTop() >= level.getWaterLevel() && !bird.isBelowWater) {\r\n            bird.enterWater();\r\n        }\r\n\r\n        // Ceiling collision\r\n        if (bird.getTop() <= level.ceilingSprite.y + level.ceilingSprite.height) {\r\n            this.gameOver();\r\n        }\r\n\r\n        // Floor collision\r\n        if (bird.getBottom() >= level.ceilingSprite.y + level.ceilingSprite.height + settings.playableAreaAboveWater + settings.playableAreaBelowWater) {\r\n            this.gameOver();\r\n        }\r\n\r\n        if (level.pipeCollision(bird)) {\r\n            this.gameOver();\r\n        }\r\n\r\n        this.renderer.render(this.stage);\r\n    },\r\n\r\n    gameOver() {\r\n        this.stop();\r\n        this._playDieAudio();\r\n\r\n        // Show game over screen\r\n        this.gameOverContainer.removeChild(this.scoreSprite);\r\n        this.gameOverContainer.removeChild(this.bestScoreSprite);\r\n\r\n        this.scoreSprite = utils.scoreToSprites(level.score, utils.scoreSize.SMALL);\r\n        this.scoreSprite.x = this.gameOverScreen.width / 2 - this.scoreSprite.width / 2 + 2;\r\n        this.scoreSprite.y = 93;\r\n\r\n        this.bestScoreSprite = utils.scoreToSprites(level.bestScore, utils.scoreSize.SMALL);\r\n        this.bestScoreSprite.x = this.gameOverScreen.width / 2 - this.bestScoreSprite.width / 2 + 2;\r\n        this.bestScoreSprite.y = 135;\r\n\r\n        this.gameOverContainer.addChild(this.scoreSprite);\r\n        this.gameOverContainer.addChild(this.bestScoreSprite);\r\n\r\n        this.gameOverContainer.visible = true;\r\n    },\r\n\r\n    _createGameOverScreen() {\r\n        this.gameOverContainer = new PIXI.Container();\r\n        this.gameOverContainer.y = (level.ceilingSprite.height + settings.playableAreaAboveWater + settings.playableAreaBelowWater) / 2 - utils.getTexture(settings.textures.GAME_OVER).height / 2;\r\n        this.gameOverContainer.x = 150;\r\n\r\n        this.gameOverScreen = new PIXI.Sprite(utils.getTexture(settings.textures.GAME_OVER));\r\n\r\n        this.gameOverContainer.addChild(this.gameOverScreen);\r\n\r\n        this.scoreSprite = utils.scoreToSprites(level.score, utils.scoreSize.SMALL);\r\n        this.scoreSprite.x = this.gameOverScreen.width / 2 - this.scoreSprite.width / 2 + 2;\r\n        this.scoreSprite.y = 93;\r\n\r\n        this.bestScoreSprite = utils.scoreToSprites(level.bestScore, utils.scoreSize.SMALL);\r\n        this.bestScoreSprite.x = this.gameOverScreen.width / 2 - this.bestScoreSprite.width / 2 + 2;\r\n        this.bestScoreSprite.y = 135;\r\n\r\n        this.gameOverContainer.addChild(this.scoreSprite);\r\n        this.gameOverContainer.addChild(this.bestScoreSprite);\r\n\r\n        let restartButton = new PIXI.Sprite(utils.getTexture(settings.textures.RESTART));\r\n        restartButton.x = this.gameOverScreen.width / 2 - restartButton.width / 2 + 2;\r\n        restartButton.y = 190;\r\n        restartButton.interactive = true;\r\n        restartButton.buttonMode = true;\r\n        restartButton.defaultCursor = 'pointer';\r\n\r\n        restartButton.addListener(\"click\", this._clickRestart.bind(this));\r\n\r\n        if (\"ontouchstart\" in window) {\r\n            restartButton.addListener(\"touchstart\", this._clickRestart.bind(this));\r\n        }\r\n\r\n\r\n\r\n        this.gameOverContainer.addChild(restartButton);\r\n\r\n        this.gameOverContainer.visible = false;\r\n\r\n        return this.gameOverContainer;\r\n    },\r\n\r\n    _clickRestart() {\r\n        this.restart();\r\n        this.gameOverContainer.visible = false;\r\n    },\r\n\r\n    /**\r\n     * Stop the game\r\n     */\r\n    stop() {\r\n        this.hasStopped = true;\r\n    },\r\n\r\n    /**\r\n     * Continue the game after stopping\r\n     * Make sure bird is no longer colliding or it'll stop again instantly\r\n     */\r\n    restart() {\r\n        level.reset();\r\n        bird.reset();\r\n\r\n        this.hasStopped = false;\r\n    },\r\n\r\n    _playDieAudio() {\r\n        audioPlayer.play(audioPlayer.audioFragments.HIT,\r\n            audioPlayer.play.bind(audioPlayer, audioPlayer.audioFragments.DIE)\r\n        );\r\n    }\r\n\r\n};\r\n\r\nmodule.exports = game;\r\n","let settings = require('./settings');\r\nlet utils = require('./utils.js');\r\n\r\nlet audioPlayer = require('./audioPlayer');\r\n\r\nconst pipeFacing = {\r\n    'UP': 1,\r\n    'DOWN': -1,\r\n};\r\n\r\nlet level = {\r\n    /**\r\n     * The container that will contain everything that needs to be moved towards the player\r\n     */\r\n    container: undefined,\r\n    /**\r\n     * The container that will contain all floor tiles\r\n     */\r\n    floorSprite: undefined,\r\n\r\n    ceilingSprite: undefined,\r\n\r\n    pipesContainer: undefined,\r\n    pipes: [],\r\n\r\n    pipeTexture: undefined,\r\n    pipeTopTexture: undefined,\r\n    pipeBottomTexture: undefined,\r\n\r\n    firstPipeFacing: pipeFacing.UP,\r\n\r\n    nextPipeFacing: 0,\r\n    placedPipesCount: 0,\r\n\r\n    playerInsidePipe: false,\r\n\r\n    pipeGapSize: 100,\r\n\r\n    pipeDistance: 400,\r\n    firstPipeDistance: 800,\r\n\r\n    score: 0,\r\n    bestScore: 0,\r\n    scoreContainer: undefined,\r\n\r\n    initialize() {\r\n        this.container = new PIXI.Container();\r\n\r\n        this.container.addChild(this._createCeiling());\r\n        this.container.addChild(this._createFloor());\r\n\r\n        // Pipes stuff\r\n        this.nextPipeFacing = this.firstPipeFacing;\r\n        this.pipeTexture = utils.getTexture(settings.textures.pipe);\r\n        this.pipeTopTexture = utils.getTexture(settings.textures.pipeUp);\r\n        this.pipeBottomTexture = utils.getTexture(settings.textures.pipeDown);\r\n\r\n        this.pipesContainer = new PIXI.Container();\r\n\r\n        this._initialPipes();\r\n\r\n        this.container.addChild(this.pipesContainer);\r\n\r\n        // Score\r\n        this.scoreContainer = new PIXI.Container();\r\n        this.scoreContainer.addChild(utils.scoreToSprites(this.score, utils.scoreSize.BIG));\r\n\r\n        // Todo: Make vars\r\n        this.scoreContainer.x = 10;\r\n        this.scoreContainer.y = utils.getTexture(settings.textures.ceiling).height + 10;\r\n\r\n        this.container.addChild(this.scoreContainer);\r\n\r\n        return this;\r\n    },\r\n\r\n    reset() {\r\n        this.score = 0;\r\n        this.scoreContainer.removeChild(this.scoreContainer.children[0]);\r\n        this.scoreContainer.addChild(utils.scoreToSprites(this.score, utils.scoreSize.BIG));\r\n\r\n        this.pipesContainer.x = 0;\r\n        this.pipesContainer.children.splice(0);\r\n        this.pipes = [];\r\n        this.playerInsidePipe = false;\r\n        this.nextPipeFacing = this.firstPipeFacing;\r\n        this.placedPipesCount = 0;\r\n        this._initialPipes();\r\n    },\r\n\r\n    loop() {\r\n        this.ceilingSprite.tilePosition.x += -settings.forwardSpeed;\r\n        this.floorSprite.tilePosition.x += -settings.forwardSpeed;\r\n\r\n        // Pipes stuff\r\n        this.pipesContainer.x += -settings.forwardSpeed;\r\n\r\n        // Remove pipes when they're off screen\r\n        if (this.pipes.length > 0) {\r\n\r\n            if (this.pipesContainer.x < -this.pipes[0].x - this.pipeTexture.width) {\r\n                this.pipesContainer.removeChild(this.pipes[0]);\r\n                this.pipes.shift();\r\n\r\n                this._placeNewPipe();\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Get the y position of the water\r\n     */\r\n    getWaterLevel() {\r\n        return settings.playableAreaAboveWater;\r\n    },\r\n\r\n    /**\r\n     * Get the element to render\r\n     * @returns {undefined|*}\r\n     */\r\n    getElement() {\r\n        return this.container;\r\n    },\r\n\r\n    pipeCollision(bird) {\r\n\r\n        // We will check if the bird is colliding with the first pipe\r\n        // The bird can't possibly hit any other pipes\r\n\r\n        // We only need to collide with the left side of the pipes and the top/bottom pieces\r\n        // We know how far the pipe container has moved to the right, we can use this to get the left side\r\n\r\n        // Because of square collision it can feel unfair when hitting the sides of the pipes while at an angle\r\n        // Which often happens when diving through the gap. To make things a bit fairer, added a small margin;\r\n        let collisionMargin = 2;\r\n\r\n        let left = this.pipesContainer.x + this.pipes[0].x + collisionMargin;\r\n        let right = left + utils.getTexture(settings.textures.pipe).width - collisionMargin;\r\n        \r\n        // The bird is in the left/right boundaries of the first pipe\r\n        if (bird.getRight() > left && bird.getLeft() < right) {\r\n\r\n            this.playerInsidePipe = true;\r\n\r\n            // The bird is above the gap!\r\n            if (bird.getTop() < this.pipes[0].gap.top || bird.getBottom() > this.pipes[0].gap.bottom) {\r\n                return true;\r\n            }\r\n        } else if (this.playerInsidePipe) {\r\n            // Player has passed the pipe\r\n            this._increaseScore();\r\n            this.playerInsidePipe = false;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    _createCeiling() {\r\n        let ceilingTexture = utils.getTexture(settings.textures.ceiling);\r\n\r\n        this.ceilingSprite = new PIXI.extras.TilingSprite(ceilingTexture, window.innerWidth, ceilingTexture.height);\r\n\r\n        return this.ceilingSprite;\r\n    },\r\n\r\n    _createFloor() {\r\n        let floorTexture = utils.getTexture(settings.textures.floor);\r\n\r\n        this.floorSprite = new PIXI.extras.TilingSprite(floorTexture, window.innerWidth, floorTexture.height);\r\n        this.floorSprite.y = settings.playableAreaAboveWater + settings.playableAreaBelowWater + utils.getTexture(settings.textures.ceiling).height;\r\n\r\n        return this.floorSprite;\r\n    },\r\n\r\n    _initialPipes() {\r\n        let startingPipesCount = Math.ceil(window.innerWidth / this.pipeDistance);\r\n\r\n        for (let i = 0; i < startingPipesCount; i++) {\r\n            let pipe = this._createPipe(this._getRandomPipeHeight(), this.nextPipeFacing);\r\n            pipe.x = this.firstPipeDistance + this.pipeDistance * i;\r\n            this.pipesContainer.addChild(pipe);\r\n            this.pipes.push(pipe);\r\n\r\n            this.nextPipeFacing *= -1;\r\n            this.placedPipesCount++;\r\n        }\r\n    },\r\n\r\n    _placeNewPipe() {\r\n        // We need total pipe amount, to calculate position of new one\r\n        let pipe = this._createPipe(this._getRandomPipeHeight(), this.nextPipeFacing);\r\n        pipe.x = this.placedPipesCount * this.pipeDistance + this.firstPipeDistance;\r\n        this.pipesContainer.addChild(pipe);\r\n        this.pipes.push(pipe);\r\n\r\n        this.nextPipeFacing *= -1;\r\n        this.placedPipesCount++;\r\n    },\r\n\r\n    _createPipe(height, direction) {\r\n        let container = new PIXI.Container();\r\n\r\n        let totalPlayHeight = settings.playableAreaAboveWater + settings.playableAreaBelowWater;\r\n\r\n        if (direction === pipeFacing.UP) {\r\n            container.addChild(this._createUpFacingPipe(height));\r\n        } else if (direction === pipeFacing.DOWN) {\r\n            container.addChild(this._createDownFacingPipe(height));\r\n        }\r\n\r\n        // Check if we have space for pipe in opposite direction to complete the gap\r\n        if (height + this.pipeGapSize < totalPlayHeight) {\r\n            // We can fit another pipe opposite to it\r\n            let oppositePipeHeight = totalPlayHeight - height - this.pipeGapSize;\r\n            if (direction === pipeFacing.UP)\r\n                container.addChild(this._createDownFacingPipe(oppositePipeHeight));\r\n\r\n            if (direction === pipeFacing.DOWN)\r\n                container.addChild(this._createUpFacingPipe(oppositePipeHeight));\r\n        }\r\n\r\n        // Store the information of the gap position in the container object for easier collision checks\r\n        let top = (direction === pipeFacing.UP ? totalPlayHeight - height - this.pipeGapSize : height) + this.ceilingSprite.height;\r\n        let bottom = (direction === pipeFacing.UP ? totalPlayHeight - height : height + this.pipeGapSize) + this.ceilingSprite.height;\r\n        container.gap = { top, bottom }\r\n\r\n        return container;\r\n    },\r\n\r\n    _createUpFacingPipe(height) {\r\n        let container = new PIXI.Container();\r\n\r\n        let pipeTop = new PIXI.Sprite(this.pipeTopTexture);\r\n        container.addChild(pipeTop);\r\n\r\n        let pipePartHeight = height - this.pipeTopTexture.height;\r\n\r\n        let pipe = new PIXI.extras.TilingSprite(this.pipeTexture, this.pipeTexture.width, pipePartHeight);\r\n        pipe.y = this.pipeTopTexture.height;\r\n        container.addChild(pipe);\r\n\r\n        // Place pipe on the bottom\r\n        container.y = settings.playableAreaAboveWater + settings.playableAreaBelowWater - height + utils.getTexture(settings.textures.ceiling).height;\r\n\r\n        return container;\r\n    },\r\n\r\n    _createDownFacingPipe(height) {\r\n        let container = new PIXI.Container();\r\n\r\n        let pipePartHeight = height - this.pipeBottomTexture.height;\r\n\r\n        let pipe = new PIXI.extras.TilingSprite(this.pipeTexture, this.pipeTexture.width, pipePartHeight);\r\n        container.addChild(pipe);\r\n\r\n        let pipeBottom = new PIXI.Sprite(this.pipeBottomTexture);\r\n        pipeBottom.y = pipePartHeight;\r\n        container.addChild(pipeBottom);\r\n\r\n        // We can place it against the ceiling\r\n        container.y = utils.getTexture(settings.textures.ceiling).height;\r\n\r\n        return container;\r\n    },\r\n\r\n    _increaseScore() {\r\n        audioPlayer.play(audioPlayer.audioFragments.POINT);\r\n        this.score++;\r\n\r\n        if (this.score > this.bestScore) this.bestScore = this.score;\r\n\r\n        // Because we put all digits inside one container, we only have to remove on child\r\n        this.scoreContainer.removeChild(this.scoreContainer.children[0]);\r\n\r\n        this.scoreContainer.addChild(utils.scoreToSprites(this.score, utils.scoreSize.BIG));\r\n   },\r\n\r\n    _getRandomPipeHeight() {\r\n        // Todo: Grab from settings somewhere\r\n        let minHeight = 280;\r\n        let maxHeight = 390;\r\n\r\n        return Math.random() * (maxHeight - minHeight) + minHeight;\r\n    },\r\n};\r\n\r\nmodule.exports = level;\r\n","const settings = {\r\n    /**\r\n     * The location of the assets json\r\n     */\r\n    assetFile: \"assets/assets.json\",\r\n\r\n    soundsPath: \"assets/sounds/\",\r\n\r\n    /**\r\n     * The area that is available above the water\r\n     */\r\n    playableAreaAboveWater: 260,\r\n\r\n    playableAreaBelowWater: 260,\r\n\r\n    /**\r\n     * The speed at which objects move towards the player\r\n     */\r\n    forwardSpeed: 5,\r\n\r\n    /**\r\n     * The speed at which the background moves\r\n     */\r\n    backgroundSpeed: 2,\r\n\r\n    /**\r\n     * The amount of gravity added to the velocity of the player while above the water\r\n     */\r\n    gravity: 0.3,\r\n\r\n    /**\r\n     * The amount of upward force added to the velocity of the player while below the water\r\n     */\r\n    waterPushForce: 0.3,\r\n\r\n    /**\r\n     * The amount of upward velocity is added to the player on 'flapping'.\r\n     */\r\n    birdFlapVelocity: 4.5,\r\n\r\n    /**\r\n     * If vertical velocity of the player should be reset before applying the flap velocity\r\n     */\r\n    shouldBirdFlapResetVelocity: true,\r\n\r\n    textures: {\r\n        'background': 'sky.png',\r\n        'floor': 'land.png',\r\n        'ceiling': 'ceiling.png',\r\n        'pipe': 'pipe.png',\r\n        'pipeUp': 'pipe-up.png',\r\n        'pipeDown': 'pipe-down.png',\r\n        'WATER': 'water.png',\r\n        'GAME_OVER': 'scoreboard.png',\r\n        'RESTART': 'replay.png',\r\n        'BIG_0': 'font_big_0.png',\r\n        'BIG_1': 'font_big_1.png',\r\n        'BIG_2': 'font_big_2.png',\r\n        'BIG_3': 'font_big_3.png',\r\n        'BIG_4': 'font_big_4.png',\r\n        'BIG_5': 'font_big_5.png',\r\n        'BIG_6': 'font_big_6.png',\r\n        'BIG_7': 'font_big_7.png',\r\n        'BIG_8': 'font_big_8.png',\r\n        'BIG_9': 'font_big_9.png',\r\n        'SMALL_0': 'font_small_0.png',\r\n        'SMALL_1': 'font_small_1.png',\r\n        'SMALL_2': 'font_small_2.png',\r\n        'SMALL_3': 'font_small_3.png',\r\n        'SMALL_4': 'font_small_4.png',\r\n        'SMALL_5': 'font_small_5.png',\r\n        'SMALL_6': 'font_small_6.png',\r\n        'SMALL_7': 'font_small_7.png',\r\n        'SMALL_8': 'font_small_8.png',\r\n        'SMALL_9': 'font_small_9.png',\r\n    }\r\n};\r\n\r\nmodule.exports = settings;\r\n","let setup = {\r\n    renderer() {\r\n        let renderer = PIXI.autoDetectRenderer(window.innerWidth, window.innerHeight);\r\n        renderer.view.style.position = \"absolute\";\r\n        renderer.view.style.display = \"block\";\r\n        renderer.backgroundColor = 0x4ec0ca;\r\n        renderer.autoResize = true;\r\n\r\n        document.body.appendChild(renderer.view);\r\n\r\n        return renderer;\r\n    },\r\n\r\n    loadAssets(callback) {\r\n        PIXI.loader.add(\"assets/assets.json\").load(callback);\r\n    }\r\n};\r\n\r\nmodule.exports = setup;\r\n","let settings = require('./settings');\r\n\r\nlet utils = {\r\n\r\n    scoreSize: {\r\n        'SMALL': 0,\r\n        'BIG': 1\r\n    },\r\n\r\n    /**\r\n     * Get a texture from the pixi loader by name\r\n     * @param name texture name, with extension\r\n     * @returns {*|PIXI.Texture|FrameObject}\r\n     */\r\n    getTexture(name) {\r\n        return PIXI.loader.resources[settings.assetFile].textures[name]\r\n    },\r\n\r\n    /**\r\n     * Fill a given pixi container and fill it with vertically aligned tiles fitting whole window width\r\n     * @param container\r\n     * @param texture\r\n     */\r\n    fillContainerWithWindowWidthTiles(container, texture) {\r\n        let requiredTiles = this._getRequiredWidthTiles(texture.width);\r\n\r\n        for (let i = 0; i < requiredTiles; i++) {\r\n            let tile = new PIXI.Sprite(texture);\r\n            tile.x = tile.width * i;\r\n            container.addChild(tile);\r\n        }\r\n    },\r\n\r\n    scoreToSprites(score, size) {\r\n        let stringScore = score.toString();\r\n\r\n        let texturePrefix = size === this.scoreSize.BIG ? 'BIG_' : 'SMALL_';\r\n        let letterSpacing = size === this.scoreSize.BIG ? 25 : 10;\r\n\r\n\r\n        let digitsContainer = new PIXI.Container();\r\n\r\n        for (let i = 0, len = stringScore.length; i < len; i++) {\r\n            let digit = new PIXI.Sprite(this.getTexture(settings.textures[texturePrefix + stringScore.charAt(i)]));\r\n            digit.x = i * letterSpacing;\r\n            digitsContainer.addChild(digit)\r\n        }\r\n\r\n        return digitsContainer;\r\n    },\r\n\r\n    _getRequiredWidthTiles(tileWidth) {\r\n        return Math.ceil(window.innerWidth / tileWidth) + 1;\r\n    }\r\n\r\n};\r\n\r\nmodule.exports = utils;\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImU6L0NvZGUvcGl4aS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwianNcXG1haW4uanMiLCJlOlxcQ29kZVxccGl4aVxcanNcXGF1ZGlvUGxheWVyLmpzIiwiZTpcXENvZGVcXHBpeGlcXGpzXFxiYWNrZ3JvdW5kLmpzIiwiZTpcXENvZGVcXHBpeGlcXGpzXFxiaXJkLmpzIiwiZTpcXENvZGVcXHBpeGlcXGpzXFxnYW1lLmpzIiwiZTpcXENvZGVcXHBpeGlcXGpzXFxsZXZlbC5qcyIsImU6XFxDb2RlXFxwaXhpXFxqc1xcc2V0dGluZ3MuanMiLCJlOlxcQ29kZVxccGl4aVxcanNcXHNldHVwLmpzIiwiZTpcXENvZGVcXHBpeGlcXGpzXFx1dGlscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsQ0FBQyxZQUFXO0FBQ1IsUUFBSSxPQUFPLFFBQVEsUUFBUixDQUFYO0FBQ0EsU0FBSyxLQUFMO0FBQ0gsQ0FIRDs7Ozs7QUNBQSxJQUFJLFdBQVcsUUFBUSxZQUFSLENBQWY7O0FBRUEsSUFBSSxjQUFjOztBQUVkLG9CQUFnQjtBQUNaLGdCQUFRLGNBREk7QUFFWixlQUFPLGFBRks7QUFHWixlQUFPLGFBSEs7QUFJWixpQkFBUyxlQUpHO0FBS1osZ0JBQVEsY0FMSTtBQU1aLHVCQUFlLHFCQU5IO0FBT1osc0JBQWM7QUFQRixLQUZGOztBQVlkLFlBQVEsRUFaTTs7QUFjZCxRQWRjLGtCQWNQO0FBQ0g7QUFDQSxhQUFLLElBQUksR0FBVCxJQUFnQixLQUFLLGNBQXJCLEVBQXFDO0FBQ2pDLGlCQUFLLE1BQUwsQ0FBWSxLQUFLLGNBQUwsQ0FBb0IsR0FBcEIsQ0FBWixJQUF3QyxJQUFJLEtBQUosQ0FBVSxTQUFTLFVBQVQsR0FBc0IsS0FBSyxjQUFMLENBQW9CLEdBQXBCLENBQWhDLENBQXhDO0FBQ0g7QUFDSixLQW5CYTtBQXFCZCxRQXJCYyxnQkFxQlQsYUFyQlMsRUFxQk0sUUFyQk4sRUFxQmdCO0FBQzFCLFlBQUksS0FBSyxNQUFMLENBQVksYUFBWixFQUEyQixXQUEzQixHQUF5QyxDQUE3QyxFQUFnRDtBQUM1QyxpQkFBSyxNQUFMLENBQVksYUFBWixFQUEyQixXQUEzQixHQUF5QyxDQUF6QztBQUNIOztBQUVELGFBQUssTUFBTCxDQUFZLGFBQVosRUFBMkIsSUFBM0I7O0FBRUEsWUFBSSxPQUFPLFFBQVAsS0FBb0IsVUFBeEIsRUFDSSxXQUFXLFFBQVgsRUFBcUIsS0FBSyxNQUFMLENBQVksYUFBWixFQUEyQixRQUEzQixHQUFzQyxJQUEzRDtBQUNQO0FBOUJhLENBQWxCOztBQWlDQSxZQUFZLElBQVo7O0FBR0EsT0FBTyxPQUFQLEdBQWlCLFdBQWpCOzs7OztBQ3RDQSxJQUFJLFdBQVcsUUFBUSxlQUFSLENBQWY7QUFDQSxJQUFJLFFBQVEsUUFBUSxZQUFSLENBQVo7O0FBRUEsSUFBSSxhQUFhO0FBQ2I7OztBQUdBLHNCQUFrQixTQUpMOztBQU1iOzs7QUFHQSxrQkFBYyxDQVREOztBQVdiLGNBWGEsd0JBV0E7QUFDVCxZQUFJLGlCQUFpQixNQUFNLFVBQU4sQ0FBaUIsU0FBUyxRQUFULENBQWtCLFVBQW5DLENBQXJCO0FBQ0EsYUFBSyxnQkFBTCxHQUF3QixJQUFJLEtBQUssTUFBTCxDQUFZLFlBQWhCLENBQTZCLGNBQTdCLEVBQTZDLE9BQU8sVUFBcEQsRUFBZ0UsZUFBZSxNQUEvRSxDQUF4QjtBQUNBLGFBQUssZ0JBQUwsQ0FBc0IsQ0FBdEIsR0FBMEIsU0FBUyxzQkFBVCxHQUFrQyxlQUFlLE1BQWpELEdBQTBELE1BQU0sVUFBTixDQUFpQixTQUFTLFFBQVQsQ0FBa0IsT0FBbkMsRUFBNEMsTUFBaEk7O0FBRUEsZUFBTyxJQUFQO0FBQ0gsS0FqQlk7QUFtQmIsUUFuQmEsa0JBbUJOO0FBQ0gsYUFBSyxnQkFBTCxDQUFzQixZQUF0QixDQUFtQyxDQUFuQyxJQUF3QyxDQUFDLFNBQVMsZUFBbEQ7QUFDSCxLQXJCWTs7O0FBdUJiOzs7O0FBSUEsY0EzQmEsd0JBMkJBO0FBQ1QsZUFBTyxLQUFLLGdCQUFaO0FBQ0g7QUE3QlksQ0FBakI7O0FBZ0NBLE9BQU8sT0FBUCxHQUFpQixVQUFqQjs7Ozs7QUNuQ0EsSUFBSSxXQUFXLFFBQVEsWUFBUixDQUFmO0FBQ0EsSUFBSSxRQUFRLFFBQVEsU0FBUixDQUFaOztBQUVBLElBQUksY0FBYyxRQUFRLGVBQVIsQ0FBbEI7O0FBRUEsSUFBSSxPQUFPO0FBQ1AsZUFBVyxTQURKO0FBRVAsVUFBTSxTQUZDO0FBR1AsaUJBQWEsU0FITjtBQUlQLGNBQVUsRUFBQyxHQUFHLENBQUosRUFBTyxHQUFHLENBQVYsRUFKSDtBQUtQLGtCQUFjLEtBTFA7O0FBT1AscUJBQWlCLENBUFY7O0FBU1AsY0FUTyx3QkFTTTtBQUNULGFBQUssU0FBTCxHQUFpQixJQUFJLEtBQUssU0FBVCxFQUFqQjs7QUFFQSxZQUFJLGVBQWUsRUFBbkI7QUFDQSxhQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksS0FBSyxlQUF6QixFQUEwQyxHQUExQyxFQUErQztBQUMzQyx5QkFBYSxJQUFiLENBQWtCLE1BQU0sVUFBTixDQUFpQixVQUFVLENBQVYsR0FBZSxNQUFoQyxDQUFsQjtBQUNIO0FBQ0QsYUFBSyxJQUFMLEdBQVksSUFBSSxLQUFLLE1BQUwsQ0FBWSxjQUFoQixDQUErQixZQUEvQixDQUFaOztBQUVBLGFBQUssSUFBTCxDQUFVLGNBQVYsR0FBMkIsR0FBM0I7QUFDQSxhQUFLLElBQUwsQ0FBVSxJQUFWOztBQUVBLGFBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsQ0FBakIsR0FBcUIsR0FBckI7QUFDQSxhQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLENBQWpCLEdBQXFCLEdBQXJCOztBQUVBLGFBQUssSUFBTCxDQUFVLENBQVYsR0FBYyxHQUFkO0FBQ0EsYUFBSyxJQUFMLENBQVUsQ0FBVixHQUFjLEdBQWQ7O0FBRUEsYUFBSyxTQUFMLENBQWUsUUFBZixDQUF3QixLQUFLLElBQTdCOztBQUVBLGFBQUssV0FBTCxHQUFtQixFQUFDLEdBQUcsQ0FBSixFQUFPLEdBQUcsQ0FBVixFQUFhLE9BQU8sQ0FBcEIsRUFBdUIsUUFBUSxDQUEvQixFQUFuQjs7QUFFQSxlQUFPLElBQVA7QUFDSCxLQWhDTTtBQWtDUCxRQWxDTyxrQkFrQ0E7QUFDSCxZQUFJLEtBQUssWUFBVCxFQUF1QjtBQUNuQixpQkFBSyxVQUFMO0FBQ0gsU0FGRCxNQUVPO0FBQ0gsaUJBQUssVUFBTDtBQUNIOztBQUVELGFBQUssSUFBTCxDQUFVLENBQVYsSUFBZSxLQUFLLFFBQUwsQ0FBYyxDQUE3QjtBQUNBLGFBQUssSUFBTCxDQUFVLFFBQVYsR0FBcUIsS0FBSyxLQUFMLENBQVcsS0FBSyxRQUFMLENBQWMsQ0FBekIsRUFBNEIsU0FBUyxZQUFyQyxDQUFyQjtBQUNILEtBM0NNO0FBNkNQLGNBN0NPLHdCQTZDTTtBQUNULGFBQUssUUFBTCxDQUFjLENBQWQsSUFBbUIsU0FBUyxPQUE1QjtBQUNILEtBL0NNO0FBaURQLGNBakRPLHdCQWlETTtBQUNULGFBQUssUUFBTCxDQUFjLENBQWQsSUFBbUIsU0FBUyxjQUE1QjtBQUNILEtBbkRNO0FBcURQLFFBckRPLGtCQXFEQTtBQUNILFlBQUksU0FBUywyQkFBYixFQUEyQztBQUN2QyxpQkFBSyxRQUFMLENBQWMsQ0FBZCxHQUFrQixDQUFsQjtBQUNIOztBQUVELFlBQUksS0FBSyxZQUFULEVBQXVCO0FBQ25CLGlCQUFLLEtBQUw7QUFDSCxTQUZELE1BRU87QUFDSCxpQkFBSyxLQUFMO0FBQ0g7QUFDSixLQS9ETTtBQWlFUCxTQWpFTyxtQkFpRUM7QUFDSixhQUFLLElBQUwsQ0FBVSxDQUFWLEdBQWMsR0FBZDtBQUNBLGFBQUssSUFBTCxDQUFVLENBQVYsR0FBYyxHQUFkO0FBQ0EsYUFBSyxRQUFMLENBQWMsQ0FBZCxHQUFrQixDQUFsQjtBQUNBLGFBQUssUUFBTCxDQUFjLENBQWQsR0FBa0IsQ0FBbEI7QUFDSCxLQXRFTTtBQXdFUCxjQXhFTyx3QkF3RU07QUFDVCxlQUFPLEtBQUssSUFBWjtBQUNILEtBMUVNO0FBNEVQLFVBNUVPLG9CQTRFRTtBQUNMLGVBQU8sS0FBSyxJQUFMLENBQVUsQ0FBVixHQUFjLEtBQUssSUFBTCxDQUFVLE1BQVYsR0FBbUIsQ0FBeEM7QUFDSCxLQTlFTTtBQWdGUCxhQWhGTyx1QkFnRks7QUFDUixlQUFPLEtBQUssSUFBTCxDQUFVLENBQVYsR0FBYyxLQUFLLElBQUwsQ0FBVSxNQUFWLEdBQW1CLENBQXhDO0FBQ0gsS0FsRk07QUFvRlAsWUFwRk8sc0JBb0ZJO0FBQ1AsZUFBTyxLQUFLLElBQUwsQ0FBVSxDQUFWLEdBQWMsS0FBSyxJQUFMLENBQVUsS0FBVixHQUFrQixDQUF2QztBQUNILEtBdEZNO0FBd0ZQLFdBeEZPLHFCQXdGRztBQUNOLGVBQU8sS0FBSyxJQUFMLENBQVUsQ0FBVixHQUFjLEtBQUssSUFBTCxDQUFVLEtBQVYsR0FBa0IsQ0FBdkM7QUFDSCxLQTFGTTtBQTRGUCxjQTVGTyx3QkE0Rk07QUFDVCxZQUFJLEtBQUssWUFBVCxFQUF1QjtBQUN2QixhQUFLLFlBQUwsR0FBb0IsSUFBcEI7O0FBRUEsb0JBQVksSUFBWixDQUFpQixZQUFZLGNBQVosQ0FBMkIsV0FBNUM7QUFDSCxLQWpHTTtBQW1HUCxjQW5HTyx3QkFtR007QUFDVCxZQUFJLENBQUMsS0FBSyxZQUFWLEVBQXdCO0FBQ3hCLGFBQUssWUFBTCxHQUFvQixLQUFwQjs7QUFFQSxvQkFBWSxJQUFaLENBQWlCLFlBQVksY0FBWixDQUEyQixVQUE1QztBQUNILEtBeEdNO0FBMEdQLFNBMUdPLG1CQTBHQztBQUNKLG9CQUFZLElBQVosQ0FBaUIsWUFBWSxjQUFaLENBQTJCLElBQTVDOztBQUVBLGFBQUssUUFBTCxDQUFjLENBQWQsSUFBbUIsU0FBUyxnQkFBNUI7QUFDSCxLQTlHTTtBQWdIUCxTQWhITyxtQkFnSEM7QUFDSixvQkFBWSxJQUFaLENBQWlCLFlBQVksY0FBWixDQUEyQixJQUE1Qzs7QUFFQSxhQUFLLFFBQUwsQ0FBYyxDQUFkLElBQW1CLFNBQVMsZ0JBQTVCO0FBQ0g7QUFwSE0sQ0FBWDs7QUF1SEEsT0FBTyxPQUFQLEdBQWlCLElBQWpCOzs7OztBQ3JIQTs7SUFBWSxLOzs7O0FBUFosSUFBSSxRQUFRLFFBQVEsU0FBUixDQUFaO0FBQ0EsSUFBSSxhQUFhLFFBQVEsY0FBUixDQUFqQjtBQUNBLElBQUksUUFBUSxRQUFRLFNBQVIsQ0FBWjtBQUNBLElBQUksT0FBTyxRQUFRLFFBQVIsQ0FBWDs7QUFFQSxJQUFJLGNBQWMsUUFBUSxlQUFSLENBQWxCO0FBQ0EsSUFBSSxXQUFZLFFBQVEsWUFBUixDQUFoQjs7O0FBR0EsSUFBSSxPQUFPOztBQUVQLGNBQVUsU0FGSDtBQUdQLFdBQU8sU0FIQTtBQUlQLHVCQUFtQixTQUpaOztBQU9QLGdCQUFZLEtBUEw7O0FBU1A7OztBQUdBLFNBWk8sbUJBWUM7QUFDSixhQUFLLFFBQUwsR0FBaUIsTUFBTSxRQUFOLEVBQWpCO0FBQ0EsY0FBTSxVQUFOLENBQWlCLEtBQUssVUFBTCxDQUFnQixJQUFoQixDQUFxQixJQUFyQixDQUFqQjtBQUNILEtBZk07OztBQWlCUDs7O0FBR0EsY0FwQk8sd0JBb0JNO0FBQUE7O0FBQ1QsYUFBSyxLQUFMLEdBQWEsSUFBSSxLQUFLLFNBQVQsRUFBYjs7QUFFQSxtQkFBVyxVQUFYO0FBQ0EsYUFBSyxLQUFMLENBQVcsUUFBWCxDQUFvQixXQUFXLFVBQVgsRUFBcEI7O0FBRUEsY0FBTSxVQUFOO0FBQ0EsYUFBSyxLQUFMLENBQVcsUUFBWCxDQUFvQixNQUFNLFVBQU4sRUFBcEI7O0FBRUEsYUFBSyxVQUFMO0FBQ0EsYUFBSyxLQUFMLENBQVcsUUFBWCxDQUFvQixLQUFLLFVBQUwsRUFBcEI7O0FBRUE7QUFDQSxZQUFJLGVBQWUsTUFBTSxVQUFOLENBQWlCLFNBQVMsUUFBVCxDQUFrQixLQUFuQyxDQUFuQjtBQUNBLFlBQUksY0FBYyxJQUFJLEtBQUssTUFBTCxDQUFZLFlBQWhCLENBQTZCLFlBQTdCLEVBQTJDLE9BQU8sVUFBbEQsRUFBOEQsU0FBUyxzQkFBdkUsQ0FBbEI7QUFDQSxvQkFBWSxDQUFaLEdBQWdCLE1BQU0sVUFBTixDQUFpQixTQUFTLFFBQVQsQ0FBa0IsT0FBbkMsRUFBNEMsTUFBNUMsR0FBcUQsU0FBUyxzQkFBOUU7QUFDQSxhQUFLLEtBQUwsQ0FBVyxRQUFYLENBQW9CLFdBQXBCOztBQUVBLGFBQUssS0FBTCxDQUFXLFFBQVgsQ0FBb0IsS0FBSyxxQkFBTCxFQUFwQjs7QUFFQSxhQUFLLFFBQUwsQ0FBYyxNQUFkLENBQXFCLEtBQUssS0FBMUI7O0FBRUE7QUFDQSxlQUFPLGdCQUFQLENBQXdCLE9BQXhCLEVBQWlDLFVBQUMsQ0FBRCxFQUFPO0FBQ3BDLGdCQUFJLEVBQUUsT0FBRixJQUFhLEVBQWpCLEVBQXFCLE9BRGUsQ0FDUDtBQUM3QixnQkFBSSxNQUFLLFVBQVQsRUFBcUI7QUFDakIsc0JBQUssYUFBTDtBQUNILGFBRkQsTUFFTztBQUNILHFCQUFLLElBQUw7QUFDSDtBQUNKLFNBUEQsRUFPRyxLQVBIOztBQVNBLFlBQUksa0JBQWtCLE1BQXRCLEVBQ0ksT0FBTyxnQkFBUCxDQUF3QixZQUF4QixFQUFzQyxZQUFNO0FBQ3hDLGdCQUFJLE1BQUssVUFBVCxFQUFxQjtBQUNyQixpQkFBSyxJQUFMO0FBQ0gsU0FIRCxFQURKLEtBTUksT0FBTyxnQkFBUCxDQUF3QixXQUF4QixFQUFxQyxZQUFNO0FBQ3ZDLGdCQUFJLE1BQUssVUFBVCxFQUFxQjtBQUNyQixpQkFBSyxJQUFMO0FBQ0gsU0FIRDs7QUFLSixhQUFLLElBQUw7QUFDSCxLQWhFTTs7O0FBa0VQOzs7QUFHQSxRQXJFTyxrQkFxRUE7QUFDSCw4QkFBc0IsS0FBSyxJQUFMLENBQVUsSUFBVixDQUFlLElBQWYsQ0FBdEI7O0FBRUE7QUFDQSxZQUFJLEtBQUssVUFBVCxFQUFxQjs7QUFFckIsbUJBQVcsSUFBWDtBQUNBLGNBQU0sSUFBTjtBQUNBLGFBQUssSUFBTDs7QUFFQTtBQUNBLFlBQUksS0FBSyxNQUFMLEtBQWdCLE1BQU0sYUFBTixFQUFoQixJQUF5QyxLQUFLLFlBQWxELEVBQWdFO0FBQzVELGlCQUFLLFVBQUw7QUFDSCxTQUZELE1BRU8sSUFBSSxLQUFLLE1BQUwsTUFBaUIsTUFBTSxhQUFOLEVBQWpCLElBQTBDLENBQUMsS0FBSyxZQUFwRCxFQUFrRTtBQUNyRSxpQkFBSyxVQUFMO0FBQ0g7O0FBRUQ7QUFDQSxZQUFJLEtBQUssTUFBTCxNQUFpQixNQUFNLGFBQU4sQ0FBb0IsQ0FBcEIsR0FBd0IsTUFBTSxhQUFOLENBQW9CLE1BQWpFLEVBQXlFO0FBQ3JFLGlCQUFLLFFBQUw7QUFDSDs7QUFFRDtBQUNBLFlBQUksS0FBSyxTQUFMLE1BQW9CLE1BQU0sYUFBTixDQUFvQixDQUFwQixHQUF3QixNQUFNLGFBQU4sQ0FBb0IsTUFBNUMsR0FBcUQsU0FBUyxzQkFBOUQsR0FBdUYsU0FBUyxzQkFBeEgsRUFBZ0o7QUFDNUksaUJBQUssUUFBTDtBQUNIOztBQUVELFlBQUksTUFBTSxhQUFOLENBQW9CLElBQXBCLENBQUosRUFBK0I7QUFDM0IsaUJBQUssUUFBTDtBQUNIOztBQUVELGFBQUssUUFBTCxDQUFjLE1BQWQsQ0FBcUIsS0FBSyxLQUExQjtBQUNILEtBckdNO0FBdUdQLFlBdkdPLHNCQXVHSTtBQUNQLGFBQUssSUFBTDtBQUNBLGFBQUssYUFBTDs7QUFFQTtBQUNBLGFBQUssaUJBQUwsQ0FBdUIsV0FBdkIsQ0FBbUMsS0FBSyxXQUF4QztBQUNBLGFBQUssaUJBQUwsQ0FBdUIsV0FBdkIsQ0FBbUMsS0FBSyxlQUF4Qzs7QUFFQSxhQUFLLFdBQUwsR0FBbUIsTUFBTSxjQUFOLENBQXFCLE1BQU0sS0FBM0IsRUFBa0MsTUFBTSxTQUFOLENBQWdCLEtBQWxELENBQW5CO0FBQ0EsYUFBSyxXQUFMLENBQWlCLENBQWpCLEdBQXFCLEtBQUssY0FBTCxDQUFvQixLQUFwQixHQUE0QixDQUE1QixHQUFnQyxLQUFLLFdBQUwsQ0FBaUIsS0FBakIsR0FBeUIsQ0FBekQsR0FBNkQsQ0FBbEY7QUFDQSxhQUFLLFdBQUwsQ0FBaUIsQ0FBakIsR0FBcUIsRUFBckI7O0FBRUEsYUFBSyxlQUFMLEdBQXVCLE1BQU0sY0FBTixDQUFxQixNQUFNLFNBQTNCLEVBQXNDLE1BQU0sU0FBTixDQUFnQixLQUF0RCxDQUF2QjtBQUNBLGFBQUssZUFBTCxDQUFxQixDQUFyQixHQUF5QixLQUFLLGNBQUwsQ0FBb0IsS0FBcEIsR0FBNEIsQ0FBNUIsR0FBZ0MsS0FBSyxlQUFMLENBQXFCLEtBQXJCLEdBQTZCLENBQTdELEdBQWlFLENBQTFGO0FBQ0EsYUFBSyxlQUFMLENBQXFCLENBQXJCLEdBQXlCLEdBQXpCOztBQUVBLGFBQUssaUJBQUwsQ0FBdUIsUUFBdkIsQ0FBZ0MsS0FBSyxXQUFyQztBQUNBLGFBQUssaUJBQUwsQ0FBdUIsUUFBdkIsQ0FBZ0MsS0FBSyxlQUFyQzs7QUFFQSxhQUFLLGlCQUFMLENBQXVCLE9BQXZCLEdBQWlDLElBQWpDO0FBQ0gsS0EzSE07QUE2SFAseUJBN0hPLG1DQTZIaUI7QUFDcEIsYUFBSyxpQkFBTCxHQUF5QixJQUFJLEtBQUssU0FBVCxFQUF6QjtBQUNBLGFBQUssaUJBQUwsQ0FBdUIsQ0FBdkIsR0FBMkIsQ0FBQyxNQUFNLGFBQU4sQ0FBb0IsTUFBcEIsR0FBNkIsU0FBUyxzQkFBdEMsR0FBK0QsU0FBUyxzQkFBekUsSUFBbUcsQ0FBbkcsR0FBdUcsTUFBTSxVQUFOLENBQWlCLFNBQVMsUUFBVCxDQUFrQixTQUFuQyxFQUE4QyxNQUE5QyxHQUF1RCxDQUF6TDtBQUNBLGFBQUssaUJBQUwsQ0FBdUIsQ0FBdkIsR0FBMkIsR0FBM0I7O0FBRUEsYUFBSyxjQUFMLEdBQXNCLElBQUksS0FBSyxNQUFULENBQWdCLE1BQU0sVUFBTixDQUFpQixTQUFTLFFBQVQsQ0FBa0IsU0FBbkMsQ0FBaEIsQ0FBdEI7O0FBRUEsYUFBSyxpQkFBTCxDQUF1QixRQUF2QixDQUFnQyxLQUFLLGNBQXJDOztBQUVBLGFBQUssV0FBTCxHQUFtQixNQUFNLGNBQU4sQ0FBcUIsTUFBTSxLQUEzQixFQUFrQyxNQUFNLFNBQU4sQ0FBZ0IsS0FBbEQsQ0FBbkI7QUFDQSxhQUFLLFdBQUwsQ0FBaUIsQ0FBakIsR0FBcUIsS0FBSyxjQUFMLENBQW9CLEtBQXBCLEdBQTRCLENBQTVCLEdBQWdDLEtBQUssV0FBTCxDQUFpQixLQUFqQixHQUF5QixDQUF6RCxHQUE2RCxDQUFsRjtBQUNBLGFBQUssV0FBTCxDQUFpQixDQUFqQixHQUFxQixFQUFyQjs7QUFFQSxhQUFLLGVBQUwsR0FBdUIsTUFBTSxjQUFOLENBQXFCLE1BQU0sU0FBM0IsRUFBc0MsTUFBTSxTQUFOLENBQWdCLEtBQXRELENBQXZCO0FBQ0EsYUFBSyxlQUFMLENBQXFCLENBQXJCLEdBQXlCLEtBQUssY0FBTCxDQUFvQixLQUFwQixHQUE0QixDQUE1QixHQUFnQyxLQUFLLGVBQUwsQ0FBcUIsS0FBckIsR0FBNkIsQ0FBN0QsR0FBaUUsQ0FBMUY7QUFDQSxhQUFLLGVBQUwsQ0FBcUIsQ0FBckIsR0FBeUIsR0FBekI7O0FBRUEsYUFBSyxpQkFBTCxDQUF1QixRQUF2QixDQUFnQyxLQUFLLFdBQXJDO0FBQ0EsYUFBSyxpQkFBTCxDQUF1QixRQUF2QixDQUFnQyxLQUFLLGVBQXJDOztBQUVBLFlBQUksZ0JBQWdCLElBQUksS0FBSyxNQUFULENBQWdCLE1BQU0sVUFBTixDQUFpQixTQUFTLFFBQVQsQ0FBa0IsT0FBbkMsQ0FBaEIsQ0FBcEI7QUFDQSxzQkFBYyxDQUFkLEdBQWtCLEtBQUssY0FBTCxDQUFvQixLQUFwQixHQUE0QixDQUE1QixHQUFnQyxjQUFjLEtBQWQsR0FBc0IsQ0FBdEQsR0FBMEQsQ0FBNUU7QUFDQSxzQkFBYyxDQUFkLEdBQWtCLEdBQWxCO0FBQ0Esc0JBQWMsV0FBZCxHQUE0QixJQUE1QjtBQUNBLHNCQUFjLFVBQWQsR0FBMkIsSUFBM0I7QUFDQSxzQkFBYyxhQUFkLEdBQThCLFNBQTlCOztBQUVBLHNCQUFjLFdBQWQsQ0FBMEIsT0FBMUIsRUFBbUMsS0FBSyxhQUFMLENBQW1CLElBQW5CLENBQXdCLElBQXhCLENBQW5DOztBQUVBLFlBQUksa0JBQWtCLE1BQXRCLEVBQThCO0FBQzFCLDBCQUFjLFdBQWQsQ0FBMEIsWUFBMUIsRUFBd0MsS0FBSyxhQUFMLENBQW1CLElBQW5CLENBQXdCLElBQXhCLENBQXhDO0FBQ0g7O0FBSUQsYUFBSyxpQkFBTCxDQUF1QixRQUF2QixDQUFnQyxhQUFoQzs7QUFFQSxhQUFLLGlCQUFMLENBQXVCLE9BQXZCLEdBQWlDLEtBQWpDOztBQUVBLGVBQU8sS0FBSyxpQkFBWjtBQUNILEtBcktNO0FBdUtQLGlCQXZLTywyQkF1S1M7QUFDWixhQUFLLE9BQUw7QUFDQSxhQUFLLGlCQUFMLENBQXVCLE9BQXZCLEdBQWlDLEtBQWpDO0FBQ0gsS0ExS007OztBQTRLUDs7O0FBR0EsUUEvS08sa0JBK0tBO0FBQ0gsYUFBSyxVQUFMLEdBQWtCLElBQWxCO0FBQ0gsS0FqTE07OztBQW1MUDs7OztBQUlBLFdBdkxPLHFCQXVMRztBQUNOLGNBQU0sS0FBTjtBQUNBLGFBQUssS0FBTDs7QUFFQSxhQUFLLFVBQUwsR0FBa0IsS0FBbEI7QUFDSCxLQTVMTTtBQThMUCxpQkE5TE8sMkJBOExTO0FBQ1osb0JBQVksSUFBWixDQUFpQixZQUFZLGNBQVosQ0FBMkIsR0FBNUMsRUFDSSxZQUFZLElBQVosQ0FBaUIsSUFBakIsQ0FBc0IsV0FBdEIsRUFBbUMsWUFBWSxjQUFaLENBQTJCLEdBQTlELENBREo7QUFHSDtBQWxNTSxDQUFYOztBQXNNQSxPQUFPLE9BQVAsR0FBaUIsSUFBakI7Ozs7O0FDL01BLElBQUksV0FBVyxRQUFRLFlBQVIsQ0FBZjtBQUNBLElBQUksUUFBUSxRQUFRLFlBQVIsQ0FBWjs7QUFFQSxJQUFJLGNBQWMsUUFBUSxlQUFSLENBQWxCOztBQUVBLElBQU0sYUFBYTtBQUNmLFVBQU0sQ0FEUztBQUVmLFlBQVEsQ0FBQztBQUZNLENBQW5COztBQUtBLElBQUksUUFBUTtBQUNSOzs7QUFHQSxlQUFXLFNBSkg7QUFLUjs7O0FBR0EsaUJBQWEsU0FSTDs7QUFVUixtQkFBZSxTQVZQOztBQVlSLG9CQUFnQixTQVpSO0FBYVIsV0FBTyxFQWJDOztBQWVSLGlCQUFhLFNBZkw7QUFnQlIsb0JBQWdCLFNBaEJSO0FBaUJSLHVCQUFtQixTQWpCWDs7QUFtQlIscUJBQWlCLFdBQVcsRUFuQnBCOztBQXFCUixvQkFBZ0IsQ0FyQlI7QUFzQlIsc0JBQWtCLENBdEJWOztBQXdCUixzQkFBa0IsS0F4QlY7O0FBMEJSLGlCQUFhLEdBMUJMOztBQTRCUixrQkFBYyxHQTVCTjtBQTZCUix1QkFBbUIsR0E3Qlg7O0FBK0JSLFdBQU8sQ0EvQkM7QUFnQ1IsZUFBVyxDQWhDSDtBQWlDUixvQkFBZ0IsU0FqQ1I7O0FBbUNSLGNBbkNRLHdCQW1DSztBQUNULGFBQUssU0FBTCxHQUFpQixJQUFJLEtBQUssU0FBVCxFQUFqQjs7QUFFQSxhQUFLLFNBQUwsQ0FBZSxRQUFmLENBQXdCLEtBQUssY0FBTCxFQUF4QjtBQUNBLGFBQUssU0FBTCxDQUFlLFFBQWYsQ0FBd0IsS0FBSyxZQUFMLEVBQXhCOztBQUVBO0FBQ0EsYUFBSyxjQUFMLEdBQXNCLEtBQUssZUFBM0I7QUFDQSxhQUFLLFdBQUwsR0FBbUIsTUFBTSxVQUFOLENBQWlCLFNBQVMsUUFBVCxDQUFrQixJQUFuQyxDQUFuQjtBQUNBLGFBQUssY0FBTCxHQUFzQixNQUFNLFVBQU4sQ0FBaUIsU0FBUyxRQUFULENBQWtCLE1BQW5DLENBQXRCO0FBQ0EsYUFBSyxpQkFBTCxHQUF5QixNQUFNLFVBQU4sQ0FBaUIsU0FBUyxRQUFULENBQWtCLFFBQW5DLENBQXpCOztBQUVBLGFBQUssY0FBTCxHQUFzQixJQUFJLEtBQUssU0FBVCxFQUF0Qjs7QUFFQSxhQUFLLGFBQUw7O0FBRUEsYUFBSyxTQUFMLENBQWUsUUFBZixDQUF3QixLQUFLLGNBQTdCOztBQUVBO0FBQ0EsYUFBSyxjQUFMLEdBQXNCLElBQUksS0FBSyxTQUFULEVBQXRCO0FBQ0EsYUFBSyxjQUFMLENBQW9CLFFBQXBCLENBQTZCLE1BQU0sY0FBTixDQUFxQixLQUFLLEtBQTFCLEVBQWlDLE1BQU0sU0FBTixDQUFnQixHQUFqRCxDQUE3Qjs7QUFFQTtBQUNBLGFBQUssY0FBTCxDQUFvQixDQUFwQixHQUF3QixFQUF4QjtBQUNBLGFBQUssY0FBTCxDQUFvQixDQUFwQixHQUF3QixNQUFNLFVBQU4sQ0FBaUIsU0FBUyxRQUFULENBQWtCLE9BQW5DLEVBQTRDLE1BQTVDLEdBQXFELEVBQTdFOztBQUVBLGFBQUssU0FBTCxDQUFlLFFBQWYsQ0FBd0IsS0FBSyxjQUE3Qjs7QUFFQSxlQUFPLElBQVA7QUFDSCxLQWhFTztBQWtFUixTQWxFUSxtQkFrRUE7QUFDSixhQUFLLEtBQUwsR0FBYSxDQUFiO0FBQ0EsYUFBSyxjQUFMLENBQW9CLFdBQXBCLENBQWdDLEtBQUssY0FBTCxDQUFvQixRQUFwQixDQUE2QixDQUE3QixDQUFoQztBQUNBLGFBQUssY0FBTCxDQUFvQixRQUFwQixDQUE2QixNQUFNLGNBQU4sQ0FBcUIsS0FBSyxLQUExQixFQUFpQyxNQUFNLFNBQU4sQ0FBZ0IsR0FBakQsQ0FBN0I7O0FBRUEsYUFBSyxjQUFMLENBQW9CLENBQXBCLEdBQXdCLENBQXhCO0FBQ0EsYUFBSyxjQUFMLENBQW9CLFFBQXBCLENBQTZCLE1BQTdCLENBQW9DLENBQXBDO0FBQ0EsYUFBSyxLQUFMLEdBQWEsRUFBYjtBQUNBLGFBQUssZ0JBQUwsR0FBd0IsS0FBeEI7QUFDQSxhQUFLLGNBQUwsR0FBc0IsS0FBSyxlQUEzQjtBQUNBLGFBQUssZ0JBQUwsR0FBd0IsQ0FBeEI7QUFDQSxhQUFLLGFBQUw7QUFDSCxLQTlFTztBQWdGUixRQWhGUSxrQkFnRkQ7QUFDSCxhQUFLLGFBQUwsQ0FBbUIsWUFBbkIsQ0FBZ0MsQ0FBaEMsSUFBcUMsQ0FBQyxTQUFTLFlBQS9DO0FBQ0EsYUFBSyxXQUFMLENBQWlCLFlBQWpCLENBQThCLENBQTlCLElBQW1DLENBQUMsU0FBUyxZQUE3Qzs7QUFFQTtBQUNBLGFBQUssY0FBTCxDQUFvQixDQUFwQixJQUF5QixDQUFDLFNBQVMsWUFBbkM7O0FBRUE7QUFDQSxZQUFJLEtBQUssS0FBTCxDQUFXLE1BQVgsR0FBb0IsQ0FBeEIsRUFBMkI7O0FBRXZCLGdCQUFJLEtBQUssY0FBTCxDQUFvQixDQUFwQixHQUF3QixDQUFDLEtBQUssS0FBTCxDQUFXLENBQVgsRUFBYyxDQUFmLEdBQW1CLEtBQUssV0FBTCxDQUFpQixLQUFoRSxFQUF1RTtBQUNuRSxxQkFBSyxjQUFMLENBQW9CLFdBQXBCLENBQWdDLEtBQUssS0FBTCxDQUFXLENBQVgsQ0FBaEM7QUFDQSxxQkFBSyxLQUFMLENBQVcsS0FBWDs7QUFFQSxxQkFBSyxhQUFMO0FBQ0g7QUFFSjtBQUNKLEtBbEdPOzs7QUFvR1I7OztBQUdBLGlCQXZHUSwyQkF1R1E7QUFDWixlQUFPLFNBQVMsc0JBQWhCO0FBQ0gsS0F6R087OztBQTJHUjs7OztBQUlBLGNBL0dRLHdCQStHSztBQUNULGVBQU8sS0FBSyxTQUFaO0FBQ0gsS0FqSE87QUFtSFIsaUJBbkhRLHlCQW1ITSxJQW5ITixFQW1IWTs7QUFFaEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFJLGtCQUFrQixDQUF0Qjs7QUFFQSxZQUFJLE9BQU8sS0FBSyxjQUFMLENBQW9CLENBQXBCLEdBQXdCLEtBQUssS0FBTCxDQUFXLENBQVgsRUFBYyxDQUF0QyxHQUEwQyxlQUFyRDtBQUNBLFlBQUksUUFBUSxPQUFPLE1BQU0sVUFBTixDQUFpQixTQUFTLFFBQVQsQ0FBa0IsSUFBbkMsRUFBeUMsS0FBaEQsR0FBd0QsZUFBcEU7O0FBRUE7QUFDQSxZQUFJLEtBQUssUUFBTCxLQUFrQixJQUFsQixJQUEwQixLQUFLLE9BQUwsS0FBaUIsS0FBL0MsRUFBc0Q7O0FBRWxELGlCQUFLLGdCQUFMLEdBQXdCLElBQXhCOztBQUVBO0FBQ0EsZ0JBQUksS0FBSyxNQUFMLEtBQWdCLEtBQUssS0FBTCxDQUFXLENBQVgsRUFBYyxHQUFkLENBQWtCLEdBQWxDLElBQXlDLEtBQUssU0FBTCxLQUFtQixLQUFLLEtBQUwsQ0FBVyxDQUFYLEVBQWMsR0FBZCxDQUFrQixNQUFsRixFQUEwRjtBQUN0Rix1QkFBTyxJQUFQO0FBQ0g7QUFDSixTQVJELE1BUU8sSUFBSSxLQUFLLGdCQUFULEVBQTJCO0FBQzlCO0FBQ0EsaUJBQUssY0FBTDtBQUNBLGlCQUFLLGdCQUFMLEdBQXdCLEtBQXhCO0FBQ0g7O0FBRUQsZUFBTyxLQUFQO0FBQ0gsS0FsSk87QUFvSlIsa0JBcEpRLDRCQW9KUztBQUNiLFlBQUksaUJBQWlCLE1BQU0sVUFBTixDQUFpQixTQUFTLFFBQVQsQ0FBa0IsT0FBbkMsQ0FBckI7O0FBRUEsYUFBSyxhQUFMLEdBQXFCLElBQUksS0FBSyxNQUFMLENBQVksWUFBaEIsQ0FBNkIsY0FBN0IsRUFBNkMsT0FBTyxVQUFwRCxFQUFnRSxlQUFlLE1BQS9FLENBQXJCOztBQUVBLGVBQU8sS0FBSyxhQUFaO0FBQ0gsS0ExSk87QUE0SlIsZ0JBNUpRLDBCQTRKTztBQUNYLFlBQUksZUFBZSxNQUFNLFVBQU4sQ0FBaUIsU0FBUyxRQUFULENBQWtCLEtBQW5DLENBQW5COztBQUVBLGFBQUssV0FBTCxHQUFtQixJQUFJLEtBQUssTUFBTCxDQUFZLFlBQWhCLENBQTZCLFlBQTdCLEVBQTJDLE9BQU8sVUFBbEQsRUFBOEQsYUFBYSxNQUEzRSxDQUFuQjtBQUNBLGFBQUssV0FBTCxDQUFpQixDQUFqQixHQUFxQixTQUFTLHNCQUFULEdBQWtDLFNBQVMsc0JBQTNDLEdBQW9FLE1BQU0sVUFBTixDQUFpQixTQUFTLFFBQVQsQ0FBa0IsT0FBbkMsRUFBNEMsTUFBckk7O0FBRUEsZUFBTyxLQUFLLFdBQVo7QUFDSCxLQW5LTztBQXFLUixpQkFyS1EsMkJBcUtRO0FBQ1osWUFBSSxxQkFBcUIsS0FBSyxJQUFMLENBQVUsT0FBTyxVQUFQLEdBQW9CLEtBQUssWUFBbkMsQ0FBekI7O0FBRUEsYUFBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLGtCQUFwQixFQUF3QyxHQUF4QyxFQUE2QztBQUN6QyxnQkFBSSxPQUFPLEtBQUssV0FBTCxDQUFpQixLQUFLLG9CQUFMLEVBQWpCLEVBQThDLEtBQUssY0FBbkQsQ0FBWDtBQUNBLGlCQUFLLENBQUwsR0FBUyxLQUFLLGlCQUFMLEdBQXlCLEtBQUssWUFBTCxHQUFvQixDQUF0RDtBQUNBLGlCQUFLLGNBQUwsQ0FBb0IsUUFBcEIsQ0FBNkIsSUFBN0I7QUFDQSxpQkFBSyxLQUFMLENBQVcsSUFBWCxDQUFnQixJQUFoQjs7QUFFQSxpQkFBSyxjQUFMLElBQXVCLENBQUMsQ0FBeEI7QUFDQSxpQkFBSyxnQkFBTDtBQUNIO0FBQ0osS0FqTE87QUFtTFIsaUJBbkxRLDJCQW1MUTtBQUNaO0FBQ0EsWUFBSSxPQUFPLEtBQUssV0FBTCxDQUFpQixLQUFLLG9CQUFMLEVBQWpCLEVBQThDLEtBQUssY0FBbkQsQ0FBWDtBQUNBLGFBQUssQ0FBTCxHQUFTLEtBQUssZ0JBQUwsR0FBd0IsS0FBSyxZQUE3QixHQUE0QyxLQUFLLGlCQUExRDtBQUNBLGFBQUssY0FBTCxDQUFvQixRQUFwQixDQUE2QixJQUE3QjtBQUNBLGFBQUssS0FBTCxDQUFXLElBQVgsQ0FBZ0IsSUFBaEI7O0FBRUEsYUFBSyxjQUFMLElBQXVCLENBQUMsQ0FBeEI7QUFDQSxhQUFLLGdCQUFMO0FBQ0gsS0E1TE87QUE4TFIsZUE5TFEsdUJBOExJLE1BOUxKLEVBOExZLFNBOUxaLEVBOEx1QjtBQUMzQixZQUFJLFlBQVksSUFBSSxLQUFLLFNBQVQsRUFBaEI7O0FBRUEsWUFBSSxrQkFBa0IsU0FBUyxzQkFBVCxHQUFrQyxTQUFTLHNCQUFqRTs7QUFFQSxZQUFJLGNBQWMsV0FBVyxFQUE3QixFQUFpQztBQUM3QixzQkFBVSxRQUFWLENBQW1CLEtBQUssbUJBQUwsQ0FBeUIsTUFBekIsQ0FBbkI7QUFDSCxTQUZELE1BRU8sSUFBSSxjQUFjLFdBQVcsSUFBN0IsRUFBbUM7QUFDdEMsc0JBQVUsUUFBVixDQUFtQixLQUFLLHFCQUFMLENBQTJCLE1BQTNCLENBQW5CO0FBQ0g7O0FBRUQ7QUFDQSxZQUFJLFNBQVMsS0FBSyxXQUFkLEdBQTRCLGVBQWhDLEVBQWlEO0FBQzdDO0FBQ0EsZ0JBQUkscUJBQXFCLGtCQUFrQixNQUFsQixHQUEyQixLQUFLLFdBQXpEO0FBQ0EsZ0JBQUksY0FBYyxXQUFXLEVBQTdCLEVBQ0ksVUFBVSxRQUFWLENBQW1CLEtBQUsscUJBQUwsQ0FBMkIsa0JBQTNCLENBQW5COztBQUVKLGdCQUFJLGNBQWMsV0FBVyxJQUE3QixFQUNJLFVBQVUsUUFBVixDQUFtQixLQUFLLG1CQUFMLENBQXlCLGtCQUF6QixDQUFuQjtBQUNQOztBQUVEO0FBQ0EsWUFBSSxNQUFNLENBQUMsY0FBYyxXQUFXLEVBQXpCLEdBQThCLGtCQUFrQixNQUFsQixHQUEyQixLQUFLLFdBQTlELEdBQTRFLE1BQTdFLElBQXVGLEtBQUssYUFBTCxDQUFtQixNQUFwSDtBQUNBLFlBQUksU0FBUyxDQUFDLGNBQWMsV0FBVyxFQUF6QixHQUE4QixrQkFBa0IsTUFBaEQsR0FBeUQsU0FBUyxLQUFLLFdBQXhFLElBQXVGLEtBQUssYUFBTCxDQUFtQixNQUF2SDtBQUNBLGtCQUFVLEdBQVYsR0FBZ0IsRUFBRSxRQUFGLEVBQU8sY0FBUCxFQUFoQjs7QUFFQSxlQUFPLFNBQVA7QUFDSCxLQTFOTztBQTROUix1QkE1TlEsK0JBNE5ZLE1BNU5aLEVBNE5vQjtBQUN4QixZQUFJLFlBQVksSUFBSSxLQUFLLFNBQVQsRUFBaEI7O0FBRUEsWUFBSSxVQUFVLElBQUksS0FBSyxNQUFULENBQWdCLEtBQUssY0FBckIsQ0FBZDtBQUNBLGtCQUFVLFFBQVYsQ0FBbUIsT0FBbkI7O0FBRUEsWUFBSSxpQkFBaUIsU0FBUyxLQUFLLGNBQUwsQ0FBb0IsTUFBbEQ7O0FBRUEsWUFBSSxPQUFPLElBQUksS0FBSyxNQUFMLENBQVksWUFBaEIsQ0FBNkIsS0FBSyxXQUFsQyxFQUErQyxLQUFLLFdBQUwsQ0FBaUIsS0FBaEUsRUFBdUUsY0FBdkUsQ0FBWDtBQUNBLGFBQUssQ0FBTCxHQUFTLEtBQUssY0FBTCxDQUFvQixNQUE3QjtBQUNBLGtCQUFVLFFBQVYsQ0FBbUIsSUFBbkI7O0FBRUE7QUFDQSxrQkFBVSxDQUFWLEdBQWMsU0FBUyxzQkFBVCxHQUFrQyxTQUFTLHNCQUEzQyxHQUFvRSxNQUFwRSxHQUE2RSxNQUFNLFVBQU4sQ0FBaUIsU0FBUyxRQUFULENBQWtCLE9BQW5DLEVBQTRDLE1BQXZJOztBQUVBLGVBQU8sU0FBUDtBQUNILEtBNU9PO0FBOE9SLHlCQTlPUSxpQ0E4T2MsTUE5T2QsRUE4T3NCO0FBQzFCLFlBQUksWUFBWSxJQUFJLEtBQUssU0FBVCxFQUFoQjs7QUFFQSxZQUFJLGlCQUFpQixTQUFTLEtBQUssaUJBQUwsQ0FBdUIsTUFBckQ7O0FBRUEsWUFBSSxPQUFPLElBQUksS0FBSyxNQUFMLENBQVksWUFBaEIsQ0FBNkIsS0FBSyxXQUFsQyxFQUErQyxLQUFLLFdBQUwsQ0FBaUIsS0FBaEUsRUFBdUUsY0FBdkUsQ0FBWDtBQUNBLGtCQUFVLFFBQVYsQ0FBbUIsSUFBbkI7O0FBRUEsWUFBSSxhQUFhLElBQUksS0FBSyxNQUFULENBQWdCLEtBQUssaUJBQXJCLENBQWpCO0FBQ0EsbUJBQVcsQ0FBWCxHQUFlLGNBQWY7QUFDQSxrQkFBVSxRQUFWLENBQW1CLFVBQW5COztBQUVBO0FBQ0Esa0JBQVUsQ0FBVixHQUFjLE1BQU0sVUFBTixDQUFpQixTQUFTLFFBQVQsQ0FBa0IsT0FBbkMsRUFBNEMsTUFBMUQ7O0FBRUEsZUFBTyxTQUFQO0FBQ0gsS0E5UE87QUFnUVIsa0JBaFFRLDRCQWdRUztBQUNiLG9CQUFZLElBQVosQ0FBaUIsWUFBWSxjQUFaLENBQTJCLEtBQTVDO0FBQ0EsYUFBSyxLQUFMOztBQUVBLFlBQUksS0FBSyxLQUFMLEdBQWEsS0FBSyxTQUF0QixFQUFpQyxLQUFLLFNBQUwsR0FBaUIsS0FBSyxLQUF0Qjs7QUFFakM7QUFDQSxhQUFLLGNBQUwsQ0FBb0IsV0FBcEIsQ0FBZ0MsS0FBSyxjQUFMLENBQW9CLFFBQXBCLENBQTZCLENBQTdCLENBQWhDOztBQUVBLGFBQUssY0FBTCxDQUFvQixRQUFwQixDQUE2QixNQUFNLGNBQU4sQ0FBcUIsS0FBSyxLQUExQixFQUFpQyxNQUFNLFNBQU4sQ0FBZ0IsR0FBakQsQ0FBN0I7QUFDSixLQTFRUTtBQTRRUix3QkE1UVEsa0NBNFFlO0FBQ25CO0FBQ0EsWUFBSSxZQUFZLEdBQWhCO0FBQ0EsWUFBSSxZQUFZLEdBQWhCOztBQUVBLGVBQU8sS0FBSyxNQUFMLE1BQWlCLFlBQVksU0FBN0IsSUFBMEMsU0FBakQ7QUFDSDtBQWxSTyxDQUFaOztBQXFSQSxPQUFPLE9BQVAsR0FBaUIsS0FBakI7Ozs7O0FDL1JBLElBQU0sV0FBVztBQUNiOzs7QUFHQSxlQUFXLG9CQUpFOztBQU1iLGdCQUFZLGdCQU5DOztBQVFiOzs7QUFHQSw0QkFBd0IsR0FYWDs7QUFhYiw0QkFBd0IsR0FiWDs7QUFlYjs7O0FBR0Esa0JBQWMsQ0FsQkQ7O0FBb0JiOzs7QUFHQSxxQkFBaUIsQ0F2Qko7O0FBeUJiOzs7QUFHQSxhQUFTLEdBNUJJOztBQThCYjs7O0FBR0Esb0JBQWdCLEdBakNIOztBQW1DYjs7O0FBR0Esc0JBQWtCLEdBdENMOztBQXdDYjs7O0FBR0EsaUNBQTZCLElBM0NoQjs7QUE2Q2IsY0FBVTtBQUNOLHNCQUFjLFNBRFI7QUFFTixpQkFBUyxVQUZIO0FBR04sbUJBQVcsYUFITDtBQUlOLGdCQUFRLFVBSkY7QUFLTixrQkFBVSxhQUxKO0FBTU4sb0JBQVksZUFOTjtBQU9OLGlCQUFTLFdBUEg7QUFRTixxQkFBYSxnQkFSUDtBQVNOLG1CQUFXLFlBVEw7QUFVTixpQkFBUyxnQkFWSDtBQVdOLGlCQUFTLGdCQVhIO0FBWU4saUJBQVMsZ0JBWkg7QUFhTixpQkFBUyxnQkFiSDtBQWNOLGlCQUFTLGdCQWRIO0FBZU4saUJBQVMsZ0JBZkg7QUFnQk4saUJBQVMsZ0JBaEJIO0FBaUJOLGlCQUFTLGdCQWpCSDtBQWtCTixpQkFBUyxnQkFsQkg7QUFtQk4saUJBQVMsZ0JBbkJIO0FBb0JOLG1CQUFXLGtCQXBCTDtBQXFCTixtQkFBVyxrQkFyQkw7QUFzQk4sbUJBQVcsa0JBdEJMO0FBdUJOLG1CQUFXLGtCQXZCTDtBQXdCTixtQkFBVyxrQkF4Qkw7QUF5Qk4sbUJBQVcsa0JBekJMO0FBMEJOLG1CQUFXLGtCQTFCTDtBQTJCTixtQkFBVyxrQkEzQkw7QUE0Qk4sbUJBQVcsa0JBNUJMO0FBNkJOLG1CQUFXO0FBN0JMO0FBN0NHLENBQWpCOztBQThFQSxPQUFPLE9BQVAsR0FBaUIsUUFBakI7Ozs7O0FDOUVBLElBQUksUUFBUTtBQUNSLFlBRFEsc0JBQ0c7QUFDUCxZQUFJLFdBQVcsS0FBSyxrQkFBTCxDQUF3QixPQUFPLFVBQS9CLEVBQTJDLE9BQU8sV0FBbEQsQ0FBZjtBQUNBLGlCQUFTLElBQVQsQ0FBYyxLQUFkLENBQW9CLFFBQXBCLEdBQStCLFVBQS9CO0FBQ0EsaUJBQVMsSUFBVCxDQUFjLEtBQWQsQ0FBb0IsT0FBcEIsR0FBOEIsT0FBOUI7QUFDQSxpQkFBUyxlQUFULEdBQTJCLFFBQTNCO0FBQ0EsaUJBQVMsVUFBVCxHQUFzQixJQUF0Qjs7QUFFQSxpQkFBUyxJQUFULENBQWMsV0FBZCxDQUEwQixTQUFTLElBQW5DOztBQUVBLGVBQU8sUUFBUDtBQUNILEtBWE87QUFhUixjQWJRLHNCQWFHLFFBYkgsRUFhYTtBQUNqQixhQUFLLE1BQUwsQ0FBWSxHQUFaLENBQWdCLG9CQUFoQixFQUFzQyxJQUF0QyxDQUEyQyxRQUEzQztBQUNIO0FBZk8sQ0FBWjs7QUFrQkEsT0FBTyxPQUFQLEdBQWlCLEtBQWpCOzs7OztBQ2xCQSxJQUFJLFdBQVcsUUFBUSxZQUFSLENBQWY7O0FBRUEsSUFBSSxRQUFROztBQUVSLGVBQVc7QUFDUCxpQkFBUyxDQURGO0FBRVAsZUFBTztBQUZBLEtBRkg7O0FBT1I7Ozs7O0FBS0EsY0FaUSxzQkFZRyxJQVpILEVBWVM7QUFDYixlQUFPLEtBQUssTUFBTCxDQUFZLFNBQVosQ0FBc0IsU0FBUyxTQUEvQixFQUEwQyxRQUExQyxDQUFtRCxJQUFuRCxDQUFQO0FBQ0gsS0FkTzs7O0FBZ0JSOzs7OztBQUtBLHFDQXJCUSw2Q0FxQjBCLFNBckIxQixFQXFCcUMsT0FyQnJDLEVBcUI4QztBQUNsRCxZQUFJLGdCQUFnQixLQUFLLHNCQUFMLENBQTRCLFFBQVEsS0FBcEMsQ0FBcEI7O0FBRUEsYUFBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLGFBQXBCLEVBQW1DLEdBQW5DLEVBQXdDO0FBQ3BDLGdCQUFJLE9BQU8sSUFBSSxLQUFLLE1BQVQsQ0FBZ0IsT0FBaEIsQ0FBWDtBQUNBLGlCQUFLLENBQUwsR0FBUyxLQUFLLEtBQUwsR0FBYSxDQUF0QjtBQUNBLHNCQUFVLFFBQVYsQ0FBbUIsSUFBbkI7QUFDSDtBQUNKLEtBN0JPO0FBK0JSLGtCQS9CUSwwQkErQk8sS0EvQlAsRUErQmMsSUEvQmQsRUErQm9CO0FBQ3hCLFlBQUksY0FBYyxNQUFNLFFBQU4sRUFBbEI7O0FBRUEsWUFBSSxnQkFBZ0IsU0FBUyxLQUFLLFNBQUwsQ0FBZSxHQUF4QixHQUE4QixNQUE5QixHQUF1QyxRQUEzRDtBQUNBLFlBQUksZ0JBQWdCLFNBQVMsS0FBSyxTQUFMLENBQWUsR0FBeEIsR0FBOEIsRUFBOUIsR0FBbUMsRUFBdkQ7O0FBR0EsWUFBSSxrQkFBa0IsSUFBSSxLQUFLLFNBQVQsRUFBdEI7O0FBRUEsYUFBSyxJQUFJLElBQUksQ0FBUixFQUFXLE1BQU0sWUFBWSxNQUFsQyxFQUEwQyxJQUFJLEdBQTlDLEVBQW1ELEdBQW5ELEVBQXdEO0FBQ3BELGdCQUFJLFFBQVEsSUFBSSxLQUFLLE1BQVQsQ0FBZ0IsS0FBSyxVQUFMLENBQWdCLFNBQVMsUUFBVCxDQUFrQixnQkFBZ0IsWUFBWSxNQUFaLENBQW1CLENBQW5CLENBQWxDLENBQWhCLENBQWhCLENBQVo7QUFDQSxrQkFBTSxDQUFOLEdBQVUsSUFBSSxhQUFkO0FBQ0EsNEJBQWdCLFFBQWhCLENBQXlCLEtBQXpCO0FBQ0g7O0FBRUQsZUFBTyxlQUFQO0FBQ0gsS0EvQ087QUFpRFIsMEJBakRRLGtDQWlEZSxTQWpEZixFQWlEMEI7QUFDOUIsZUFBTyxLQUFLLElBQUwsQ0FBVSxPQUFPLFVBQVAsR0FBb0IsU0FBOUIsSUFBMkMsQ0FBbEQ7QUFDSDtBQW5ETyxDQUFaOztBQXVEQSxPQUFPLE9BQVAsR0FBaUIsS0FBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGdhbWUgPSByZXF1aXJlKCcuL2dhbWUnKTtcclxuICAgIGdhbWUuc3RhcnQoKTtcclxufSkoKTtcclxuXHJcbiIsImxldCBzZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MnKTtcclxuXHJcbmxldCBhdWRpb1BsYXllciA9IHtcclxuXHJcbiAgICBhdWRpb0ZyYWdtZW50czoge1xyXG4gICAgICAgICdGTEFQJzogJ3NmeF93aW5nLm9nZycsXHJcbiAgICAgICAgJ0hJVCc6ICdzZnhfaGl0Lm9nZycsXHJcbiAgICAgICAgJ0RJRSc6ICdzZnhfZGllLm9nZycsXHJcbiAgICAgICAgJ1BPSU5UJzogJ3NmeF9wb2ludC5vZ2cnLFxyXG4gICAgICAgICdTV0lNJzogJ3NmeF9ibHViLm9nZycsXHJcbiAgICAgICAgJ0VOVEVSX1dBVEVSJzogJ3NmeF93YXRlci1lbnRlci5vZ2cnLFxyXG4gICAgICAgICdFWElUX1dBVEVSJzogJ3NmeF93YXRlci1leGl0Lm9nZycsXHJcbiAgICB9LFxyXG5cclxuICAgIF9hdWRpbzogW10sXHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICAvLyBUb2RvOiBNYXliZSB3ZSBuZWVkIHRvIHdhaXQgd2l0aCBzdGFydGluZyB0aGUgZ2FtZSB1bnRpbCB0aGVzZSBoYXZlIGJlZW4gbG9hZGVkXHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuYXVkaW9GcmFnbWVudHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fYXVkaW9bdGhpcy5hdWRpb0ZyYWdtZW50c1trZXldXSA9IG5ldyBBdWRpbyhzZXR0aW5ncy5zb3VuZHNQYXRoICsgdGhpcy5hdWRpb0ZyYWdtZW50c1trZXldKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHBsYXkoYXVkaW9GcmFnbWVudCwgY2FsbGJhY2spIHtcclxuICAgICAgICBpZiAodGhpcy5fYXVkaW9bYXVkaW9GcmFnbWVudF0uY3VycmVudFRpbWUgPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2F1ZGlvW2F1ZGlvRnJhZ21lbnRdLmN1cnJlbnRUaW1lID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2F1ZGlvW2F1ZGlvRnJhZ21lbnRdLnBsYXkoKTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJylcclxuICAgICAgICAgICAgc2V0VGltZW91dChjYWxsYmFjaywgdGhpcy5fYXVkaW9bYXVkaW9GcmFnbWVudF0uZHVyYXRpb24gKiAxMDAwKTtcclxuICAgIH1cclxufTtcclxuXHJcbmF1ZGlvUGxheWVyLmluaXQoKTtcclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGF1ZGlvUGxheWVyO1xyXG4iLCJsZXQgc2V0dGluZ3MgPSByZXF1aXJlKCcuL3NldHRpbmdzLmpzJyk7XHJcbmxldCB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMuanMnKTtcclxuXHJcbnZhciBiYWNrZ3JvdW5kID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgY29udGFpbmVyIHRoYXQgd2lsbCBjb250YWluIGFsbCBiYWNrZ3JvdW5kIHRpbGVzIGxpbmVkIHVwXHJcbiAgICAgKi9cclxuICAgIGJhY2tncm91bmRTcHJpdGU6IHVuZGVmaW5lZCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSB3aWR0aCBvZiBvbmUgYmFja2dyb3VuZCB0aWxlLCBpcyBuZWVkZWQgaW4gc29tZSBjYWxjdWxhdGlvbnMvY2hlY2tzXHJcbiAgICAgKi9cclxuICAgIHNreVRpbGVXaWR0aDogMCxcclxuXHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIGxldCBza3lUaWxlVGV4dHVyZSA9IHV0aWxzLmdldFRleHR1cmUoc2V0dGluZ3MudGV4dHVyZXMuYmFja2dyb3VuZClcclxuICAgICAgICB0aGlzLmJhY2tncm91bmRTcHJpdGUgPSBuZXcgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlKHNreVRpbGVUZXh0dXJlLCB3aW5kb3cuaW5uZXJXaWR0aCwgc2t5VGlsZVRleHR1cmUuaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmRTcHJpdGUueSA9IHNldHRpbmdzLnBsYXlhYmxlQXJlYUFib3ZlV2F0ZXIgLSBza3lUaWxlVGV4dHVyZS5oZWlnaHQgKyB1dGlscy5nZXRUZXh0dXJlKHNldHRpbmdzLnRleHR1cmVzLmNlaWxpbmcpLmhlaWdodDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9LFxyXG5cclxuICAgIGxvb3AoKSB7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kU3ByaXRlLnRpbGVQb3NpdGlvbi54ICs9IC1zZXR0aW5ncy5iYWNrZ3JvdW5kU3BlZWQ7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBlbGVtZW50IHRoYXQgbmVlZHMgdG8gYmUgcmVuZGVyZWRcclxuICAgICAqIEByZXR1cm5zIHtDb250YWluZXJ9XHJcbiAgICAgKi9cclxuICAgIGdldEVsZW1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFja2dyb3VuZFNwcml0ZTtcclxuICAgIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gYmFja2dyb3VuZDtcclxuIiwibGV0IHNldHRpbmdzID0gcmVxdWlyZSgnLi9zZXR0aW5ncycpO1xyXG5sZXQgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XHJcblxyXG5sZXQgYXVkaW9QbGF5ZXIgPSByZXF1aXJlKCcuL2F1ZGlvUGxheWVyJyk7XHJcblxyXG5sZXQgYmlyZCA9IHtcclxuICAgIGNvbnRhaW5lcjogdW5kZWZpbmVkLFxyXG4gICAgYmlyZDogdW5kZWZpbmVkLFxyXG4gICAgYm91bmRpbmdCb3g6IHVuZGVmaW5lZCxcclxuICAgIHZlbG9jaXR5OiB7eDogMCwgeTogMH0sXHJcbiAgICBpc0JlbG93V2F0ZXI6IGZhbHNlLFxyXG5cclxuICAgIGFuaW1hdGlvbkZyYW1lczogNCxcclxuXHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XHJcblxyXG4gICAgICAgIGxldCBzcHJpdGVGcmFtZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYW5pbWF0aW9uRnJhbWVzOyBpKyspIHtcclxuICAgICAgICAgICAgc3ByaXRlRnJhbWVzLnB1c2godXRpbHMuZ2V0VGV4dHVyZSgnYmlyZF8nICsgaSArICAnLnBuZycpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5iaXJkID0gbmV3IFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlKHNwcml0ZUZyYW1lcyk7XHJcblxyXG4gICAgICAgIHRoaXMuYmlyZC5hbmltYXRpb25TcGVlZCA9IDAuMjtcclxuICAgICAgICB0aGlzLmJpcmQucGxheSgpO1xyXG5cclxuICAgICAgICB0aGlzLmJpcmQuYW5jaG9yLnggPSAwLjU7XHJcbiAgICAgICAgdGhpcy5iaXJkLmFuY2hvci55ID0gMC41O1xyXG5cclxuICAgICAgICB0aGlzLmJpcmQueSA9IDE1MDtcclxuICAgICAgICB0aGlzLmJpcmQueCA9IDEwMDtcclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQodGhpcy5iaXJkKTtcclxuXHJcbiAgICAgICAgdGhpcy5ib3VuZGluZ0JveCA9IHt4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9LFxyXG5cclxuICAgIGxvb3AoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNCZWxvd1dhdGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmVsb3dXYXRlcigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWJvdmVXYXRlcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5iaXJkLnkgKz0gdGhpcy52ZWxvY2l0eS55O1xyXG4gICAgICAgIHRoaXMuYmlyZC5yb3RhdGlvbiA9IE1hdGguYXRhbjIodGhpcy52ZWxvY2l0eS55LCBzZXR0aW5ncy5mb3J3YXJkU3BlZWQpO1xyXG4gICAgfSxcclxuXHJcbiAgICBhYm92ZVdhdGVyKCkge1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHkueSArPSBzZXR0aW5ncy5ncmF2aXR5O1xyXG4gICAgfSxcclxuXHJcbiAgICBiZWxvd1dhdGVyKCkge1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHkueSAtPSBzZXR0aW5ncy53YXRlclB1c2hGb3JjZTtcclxuICAgIH0sXHJcblxyXG4gICAgZmxhcCgpIHtcclxuICAgICAgICBpZiAoc2V0dGluZ3Muc2hvdWxkQmlyZEZsYXBSZXNldFZlbG9jaXR5ICkge1xyXG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5LnkgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNCZWxvd1dhdGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N3aW0oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9mbGFwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLmJpcmQueSA9IDE1MDtcclxuICAgICAgICB0aGlzLmJpcmQueCA9IDEwMDtcclxuICAgICAgICB0aGlzLnZlbG9jaXR5LnggPSAwO1xyXG4gICAgICAgIHRoaXMudmVsb2NpdHkueSA9IDA7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldEVsZW1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmlyZDtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0VG9wKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJpcmQueSAtIHRoaXMuYmlyZC5oZWlnaHQgLyAyO1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXRCb3R0b20oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmlyZC55ICsgdGhpcy5iaXJkLmhlaWdodCAvIDI7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldFJpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJpcmQueCArIHRoaXMuYmlyZC53aWR0aCAvIDI7XHJcbiAgICB9LFxyXG5cclxuICAgIGdldExlZnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmlyZC54IC0gdGhpcy5iaXJkLndpZHRoIC8gMjtcclxuICAgIH0sXHJcblxyXG4gICAgZW50ZXJXYXRlcigpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0JlbG93V2F0ZXIpIHJldHVybjtcclxuICAgICAgICB0aGlzLmlzQmVsb3dXYXRlciA9IHRydWU7XHJcblxyXG4gICAgICAgIGF1ZGlvUGxheWVyLnBsYXkoYXVkaW9QbGF5ZXIuYXVkaW9GcmFnbWVudHMuRU5URVJfV0FURVIpO1xyXG4gICAgfSxcclxuXHJcbiAgICBsZWF2ZVdhdGVyKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0JlbG93V2F0ZXIpIHJldHVybjtcclxuICAgICAgICB0aGlzLmlzQmVsb3dXYXRlciA9IGZhbHNlO1xyXG5cclxuICAgICAgICBhdWRpb1BsYXllci5wbGF5KGF1ZGlvUGxheWVyLmF1ZGlvRnJhZ21lbnRzLkVYSVRfV0FURVIpO1xyXG4gICAgfSxcclxuXHJcbiAgICBfZmxhcCgpIHtcclxuICAgICAgICBhdWRpb1BsYXllci5wbGF5KGF1ZGlvUGxheWVyLmF1ZGlvRnJhZ21lbnRzLkZMQVApO1xyXG5cclxuICAgICAgICB0aGlzLnZlbG9jaXR5LnkgLT0gc2V0dGluZ3MuYmlyZEZsYXBWZWxvY2l0eTtcclxuICAgIH0sXHJcblxyXG4gICAgX3N3aW0oKSB7XHJcbiAgICAgICAgYXVkaW9QbGF5ZXIucGxheShhdWRpb1BsYXllci5hdWRpb0ZyYWdtZW50cy5TV0lNKTtcclxuXHJcbiAgICAgICAgdGhpcy52ZWxvY2l0eS55ICs9IHNldHRpbmdzLmJpcmRGbGFwVmVsb2NpdHk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGJpcmQ7XHJcbiIsImxldCBzZXR1cCA9IHJlcXVpcmUoJy4vc2V0dXAnKTtcclxubGV0IGJhY2tncm91bmQgPSByZXF1aXJlKCcuL2JhY2tncm91bmQnKTtcclxubGV0IGxldmVsID0gcmVxdWlyZSgnLi9sZXZlbCcpO1xyXG5sZXQgYmlyZCA9IHJlcXVpcmUoJy4vYmlyZCcpO1xyXG5cclxubGV0IGF1ZGlvUGxheWVyID0gcmVxdWlyZSgnLi9hdWRpb1BsYXllcicpO1xyXG5sZXQgc2V0dGluZ3MgPSAgcmVxdWlyZSgnLi9zZXR0aW5ncycpO1xyXG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tIFwiLi91dGlsc1wiO1xyXG5cclxubGV0IGdhbWUgPSB7XHJcblxyXG4gICAgcmVuZGVyZXI6IHVuZGVmaW5lZCxcclxuICAgIHN0YWdlOiB1bmRlZmluZWQsXHJcbiAgICBnYW1lT3ZlckNvbnRhaW5lcjogdW5kZWZpbmVkLFxyXG5cclxuXHJcbiAgICBoYXNTdG9wcGVkOiBmYWxzZSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0IHRoZSBnYW1lXHJcbiAgICAgKi9cclxuICAgIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIgID0gc2V0dXAucmVuZGVyZXIoKTtcclxuICAgICAgICBzZXR1cC5sb2FkQXNzZXRzKHRoaXMuaW5pdGlhbGl6ZS5iaW5kKHRoaXMpKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplIGFsbCByZXF1aXJlZCBwYXJ0cyBvZiB0aGUgZ2FtZVxyXG4gICAgICovXHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIHRoaXMuc3RhZ2UgPSBuZXcgUElYSS5Db250YWluZXIoKTtcclxuXHJcbiAgICAgICAgYmFja2dyb3VuZC5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgdGhpcy5zdGFnZS5hZGRDaGlsZChiYWNrZ3JvdW5kLmdldEVsZW1lbnQoKSk7XHJcblxyXG4gICAgICAgIGxldmVsLmluaXRpYWxpemUoKTtcclxuICAgICAgICB0aGlzLnN0YWdlLmFkZENoaWxkKGxldmVsLmdldEVsZW1lbnQoKSk7XHJcblxyXG4gICAgICAgIGJpcmQuaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIHRoaXMuc3RhZ2UuYWRkQ2hpbGQoYmlyZC5nZXRFbGVtZW50KCkpO1xyXG5cclxuICAgICAgICAvLyBSZW5kZXIgdGhlIHdhdGVyXHJcbiAgICAgICAgbGV0IHdhdGVyVGV4dHVyZSA9IHV0aWxzLmdldFRleHR1cmUoc2V0dGluZ3MudGV4dHVyZXMuV0FURVIpO1xyXG4gICAgICAgIGxldCB3YXRlclNwcml0ZSA9IG5ldyBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGUod2F0ZXJUZXh0dXJlLCB3aW5kb3cuaW5uZXJXaWR0aCwgc2V0dGluZ3MucGxheWFibGVBcmVhQmVsb3dXYXRlcik7XHJcbiAgICAgICAgd2F0ZXJTcHJpdGUueSA9IHV0aWxzLmdldFRleHR1cmUoc2V0dGluZ3MudGV4dHVyZXMuY2VpbGluZykuaGVpZ2h0ICsgc2V0dGluZ3MucGxheWFibGVBcmVhQWJvdmVXYXRlcjtcclxuICAgICAgICB0aGlzLnN0YWdlLmFkZENoaWxkKHdhdGVyU3ByaXRlKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFnZS5hZGRDaGlsZCh0aGlzLl9jcmVhdGVHYW1lT3ZlclNjcmVlbigpKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XHJcblxyXG4gICAgICAgIC8vIFRvZG86IEFkZCBwcm9wZXIgaW5wdXQgaGFuZGxpbmdcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgIT0gMzIpIHJldHVybjsgLy8gTm90IHNwYWNlYmFyXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc1N0b3BwZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2NsaWNrUmVzdGFydCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYmlyZC5mbGFwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBmYWxzZSk7XHJcblxyXG4gICAgICAgIGlmIChcIm9udG91Y2hzdGFydFwiIGluIHdpbmRvdylcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1N0b3BwZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGJpcmQuZmxhcCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1N0b3BwZWQpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGJpcmQuZmxhcCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5sb29wKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGdhbWUgbG9vcFxyXG4gICAgICovXHJcbiAgICBsb29wKCkge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmxvb3AuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgYmFzaWNhbGx5IGNhdXNlcyB0aGUgZ2FtZSB0byAnZnJlZXplJy4gVGhpcyBzaG91bGQgY2hhbmdlIHRoZSB1cGRhdGluZyB0byBtZW51IGFuZCBzdWNoXHJcbiAgICAgICAgaWYgKHRoaXMuaGFzU3RvcHBlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBiYWNrZ3JvdW5kLmxvb3AoKTtcclxuICAgICAgICBsZXZlbC5sb29wKCk7XHJcbiAgICAgICAgYmlyZC5sb29wKCk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBiaXJkIGlzIGJlbG93IG9yIHVuZGVybmVhdGggdGhlIHdhdGVyXHJcbiAgICAgICAgaWYgKGJpcmQuZ2V0VG9wKCkgPCBsZXZlbC5nZXRXYXRlckxldmVsKCkgJiYgYmlyZC5pc0JlbG93V2F0ZXIpIHtcclxuICAgICAgICAgICAgYmlyZC5sZWF2ZVdhdGVyKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChiaXJkLmdldFRvcCgpID49IGxldmVsLmdldFdhdGVyTGV2ZWwoKSAmJiAhYmlyZC5pc0JlbG93V2F0ZXIpIHtcclxuICAgICAgICAgICAgYmlyZC5lbnRlcldhdGVyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDZWlsaW5nIGNvbGxpc2lvblxyXG4gICAgICAgIGlmIChiaXJkLmdldFRvcCgpIDw9IGxldmVsLmNlaWxpbmdTcHJpdGUueSArIGxldmVsLmNlaWxpbmdTcHJpdGUuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEZsb29yIGNvbGxpc2lvblxyXG4gICAgICAgIGlmIChiaXJkLmdldEJvdHRvbSgpID49IGxldmVsLmNlaWxpbmdTcHJpdGUueSArIGxldmVsLmNlaWxpbmdTcHJpdGUuaGVpZ2h0ICsgc2V0dGluZ3MucGxheWFibGVBcmVhQWJvdmVXYXRlciArIHNldHRpbmdzLnBsYXlhYmxlQXJlYUJlbG93V2F0ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lT3ZlcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGxldmVsLnBpcGVDb2xsaXNpb24oYmlyZCkpIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lT3ZlcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zdGFnZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGdhbWVPdmVyKCkge1xyXG4gICAgICAgIHRoaXMuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuX3BsYXlEaWVBdWRpbygpO1xyXG5cclxuICAgICAgICAvLyBTaG93IGdhbWUgb3ZlciBzY3JlZW5cclxuICAgICAgICB0aGlzLmdhbWVPdmVyQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuc2NvcmVTcHJpdGUpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU92ZXJDb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcy5iZXN0U2NvcmVTcHJpdGUpO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlU3ByaXRlID0gdXRpbHMuc2NvcmVUb1Nwcml0ZXMobGV2ZWwuc2NvcmUsIHV0aWxzLnNjb3JlU2l6ZS5TTUFMTCk7XHJcbiAgICAgICAgdGhpcy5zY29yZVNwcml0ZS54ID0gdGhpcy5nYW1lT3ZlclNjcmVlbi53aWR0aCAvIDIgLSB0aGlzLnNjb3JlU3ByaXRlLndpZHRoIC8gMiArIDI7XHJcbiAgICAgICAgdGhpcy5zY29yZVNwcml0ZS55ID0gOTM7XHJcblxyXG4gICAgICAgIHRoaXMuYmVzdFNjb3JlU3ByaXRlID0gdXRpbHMuc2NvcmVUb1Nwcml0ZXMobGV2ZWwuYmVzdFNjb3JlLCB1dGlscy5zY29yZVNpemUuU01BTEwpO1xyXG4gICAgICAgIHRoaXMuYmVzdFNjb3JlU3ByaXRlLnggPSB0aGlzLmdhbWVPdmVyU2NyZWVuLndpZHRoIC8gMiAtIHRoaXMuYmVzdFNjb3JlU3ByaXRlLndpZHRoIC8gMiArIDI7XHJcbiAgICAgICAgdGhpcy5iZXN0U2NvcmVTcHJpdGUueSA9IDEzNTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT3ZlckNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLnNjb3JlU3ByaXRlKTtcclxuICAgICAgICB0aGlzLmdhbWVPdmVyQ29udGFpbmVyLmFkZENoaWxkKHRoaXMuYmVzdFNjb3JlU3ByaXRlKTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lT3ZlckNvbnRhaW5lci52aXNpYmxlID0gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgX2NyZWF0ZUdhbWVPdmVyU2NyZWVuKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZU92ZXJDb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcclxuICAgICAgICB0aGlzLmdhbWVPdmVyQ29udGFpbmVyLnkgPSAobGV2ZWwuY2VpbGluZ1Nwcml0ZS5oZWlnaHQgKyBzZXR0aW5ncy5wbGF5YWJsZUFyZWFBYm92ZVdhdGVyICsgc2V0dGluZ3MucGxheWFibGVBcmVhQmVsb3dXYXRlcikgLyAyIC0gdXRpbHMuZ2V0VGV4dHVyZShzZXR0aW5ncy50ZXh0dXJlcy5HQU1FX09WRVIpLmhlaWdodCAvIDI7XHJcbiAgICAgICAgdGhpcy5nYW1lT3ZlckNvbnRhaW5lci54ID0gMTUwO1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVPdmVyU2NyZWVuID0gbmV3IFBJWEkuU3ByaXRlKHV0aWxzLmdldFRleHR1cmUoc2V0dGluZ3MudGV4dHVyZXMuR0FNRV9PVkVSKSk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU92ZXJDb250YWluZXIuYWRkQ2hpbGQodGhpcy5nYW1lT3ZlclNjcmVlbik7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVTcHJpdGUgPSB1dGlscy5zY29yZVRvU3ByaXRlcyhsZXZlbC5zY29yZSwgdXRpbHMuc2NvcmVTaXplLlNNQUxMKTtcclxuICAgICAgICB0aGlzLnNjb3JlU3ByaXRlLnggPSB0aGlzLmdhbWVPdmVyU2NyZWVuLndpZHRoIC8gMiAtIHRoaXMuc2NvcmVTcHJpdGUud2lkdGggLyAyICsgMjtcclxuICAgICAgICB0aGlzLnNjb3JlU3ByaXRlLnkgPSA5MztcclxuXHJcbiAgICAgICAgdGhpcy5iZXN0U2NvcmVTcHJpdGUgPSB1dGlscy5zY29yZVRvU3ByaXRlcyhsZXZlbC5iZXN0U2NvcmUsIHV0aWxzLnNjb3JlU2l6ZS5TTUFMTCk7XHJcbiAgICAgICAgdGhpcy5iZXN0U2NvcmVTcHJpdGUueCA9IHRoaXMuZ2FtZU92ZXJTY3JlZW4ud2lkdGggLyAyIC0gdGhpcy5iZXN0U2NvcmVTcHJpdGUud2lkdGggLyAyICsgMjtcclxuICAgICAgICB0aGlzLmJlc3RTY29yZVNwcml0ZS55ID0gMTM1O1xyXG5cclxuICAgICAgICB0aGlzLmdhbWVPdmVyQ29udGFpbmVyLmFkZENoaWxkKHRoaXMuc2NvcmVTcHJpdGUpO1xyXG4gICAgICAgIHRoaXMuZ2FtZU92ZXJDb250YWluZXIuYWRkQ2hpbGQodGhpcy5iZXN0U2NvcmVTcHJpdGUpO1xyXG5cclxuICAgICAgICBsZXQgcmVzdGFydEJ1dHRvbiA9IG5ldyBQSVhJLlNwcml0ZSh1dGlscy5nZXRUZXh0dXJlKHNldHRpbmdzLnRleHR1cmVzLlJFU1RBUlQpKTtcclxuICAgICAgICByZXN0YXJ0QnV0dG9uLnggPSB0aGlzLmdhbWVPdmVyU2NyZWVuLndpZHRoIC8gMiAtIHJlc3RhcnRCdXR0b24ud2lkdGggLyAyICsgMjtcclxuICAgICAgICByZXN0YXJ0QnV0dG9uLnkgPSAxOTA7XHJcbiAgICAgICAgcmVzdGFydEJ1dHRvbi5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgcmVzdGFydEJ1dHRvbi5idXR0b25Nb2RlID0gdHJ1ZTtcclxuICAgICAgICByZXN0YXJ0QnV0dG9uLmRlZmF1bHRDdXJzb3IgPSAncG9pbnRlcic7XHJcblxyXG4gICAgICAgIHJlc3RhcnRCdXR0b24uYWRkTGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9jbGlja1Jlc3RhcnQuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgICAgIGlmIChcIm9udG91Y2hzdGFydFwiIGluIHdpbmRvdykge1xyXG4gICAgICAgICAgICByZXN0YXJ0QnV0dG9uLmFkZExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLl9jbGlja1Jlc3RhcnQuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU92ZXJDb250YWluZXIuYWRkQ2hpbGQocmVzdGFydEJ1dHRvbik7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZU92ZXJDb250YWluZXIudmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5nYW1lT3ZlckNvbnRhaW5lcjtcclxuICAgIH0sXHJcblxyXG4gICAgX2NsaWNrUmVzdGFydCgpIHtcclxuICAgICAgICB0aGlzLnJlc3RhcnQoKTtcclxuICAgICAgICB0aGlzLmdhbWVPdmVyQ29udGFpbmVyLnZpc2libGUgPSBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wIHRoZSBnYW1lXHJcbiAgICAgKi9cclxuICAgIHN0b3AoKSB7XHJcbiAgICAgICAgdGhpcy5oYXNTdG9wcGVkID0gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb250aW51ZSB0aGUgZ2FtZSBhZnRlciBzdG9wcGluZ1xyXG4gICAgICogTWFrZSBzdXJlIGJpcmQgaXMgbm8gbG9uZ2VyIGNvbGxpZGluZyBvciBpdCdsbCBzdG9wIGFnYWluIGluc3RhbnRseVxyXG4gICAgICovXHJcbiAgICByZXN0YXJ0KCkge1xyXG4gICAgICAgIGxldmVsLnJlc2V0KCk7XHJcbiAgICAgICAgYmlyZC5yZXNldCgpO1xyXG5cclxuICAgICAgICB0aGlzLmhhc1N0b3BwZWQgPSBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgX3BsYXlEaWVBdWRpbygpIHtcclxuICAgICAgICBhdWRpb1BsYXllci5wbGF5KGF1ZGlvUGxheWVyLmF1ZGlvRnJhZ21lbnRzLkhJVCxcclxuICAgICAgICAgICAgYXVkaW9QbGF5ZXIucGxheS5iaW5kKGF1ZGlvUGxheWVyLCBhdWRpb1BsYXllci5hdWRpb0ZyYWdtZW50cy5ESUUpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGdhbWU7XHJcbiIsImxldCBzZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MnKTtcclxubGV0IHV0aWxzID0gcmVxdWlyZSgnLi91dGlscy5qcycpO1xyXG5cclxubGV0IGF1ZGlvUGxheWVyID0gcmVxdWlyZSgnLi9hdWRpb1BsYXllcicpO1xyXG5cclxuY29uc3QgcGlwZUZhY2luZyA9IHtcclxuICAgICdVUCc6IDEsXHJcbiAgICAnRE9XTic6IC0xLFxyXG59O1xyXG5cclxubGV0IGxldmVsID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgY29udGFpbmVyIHRoYXQgd2lsbCBjb250YWluIGV2ZXJ5dGhpbmcgdGhhdCBuZWVkcyB0byBiZSBtb3ZlZCB0b3dhcmRzIHRoZSBwbGF5ZXJcclxuICAgICAqL1xyXG4gICAgY29udGFpbmVyOiB1bmRlZmluZWQsXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBjb250YWluZXIgdGhhdCB3aWxsIGNvbnRhaW4gYWxsIGZsb29yIHRpbGVzXHJcbiAgICAgKi9cclxuICAgIGZsb29yU3ByaXRlOiB1bmRlZmluZWQsXHJcblxyXG4gICAgY2VpbGluZ1Nwcml0ZTogdW5kZWZpbmVkLFxyXG5cclxuICAgIHBpcGVzQ29udGFpbmVyOiB1bmRlZmluZWQsXHJcbiAgICBwaXBlczogW10sXHJcblxyXG4gICAgcGlwZVRleHR1cmU6IHVuZGVmaW5lZCxcclxuICAgIHBpcGVUb3BUZXh0dXJlOiB1bmRlZmluZWQsXHJcbiAgICBwaXBlQm90dG9tVGV4dHVyZTogdW5kZWZpbmVkLFxyXG5cclxuICAgIGZpcnN0UGlwZUZhY2luZzogcGlwZUZhY2luZy5VUCxcclxuXHJcbiAgICBuZXh0UGlwZUZhY2luZzogMCxcclxuICAgIHBsYWNlZFBpcGVzQ291bnQ6IDAsXHJcblxyXG4gICAgcGxheWVySW5zaWRlUGlwZTogZmFsc2UsXHJcblxyXG4gICAgcGlwZUdhcFNpemU6IDEwMCxcclxuXHJcbiAgICBwaXBlRGlzdGFuY2U6IDQwMCxcclxuICAgIGZpcnN0UGlwZURpc3RhbmNlOiA4MDAsXHJcblxyXG4gICAgc2NvcmU6IDAsXHJcbiAgICBiZXN0U2NvcmU6IDAsXHJcbiAgICBzY29yZUNvbnRhaW5lcjogdW5kZWZpbmVkLFxyXG5cclxuICAgIGluaXRpYWxpemUoKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQodGhpcy5fY3JlYXRlQ2VpbGluZygpKTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl9jcmVhdGVGbG9vcigpKTtcclxuXHJcbiAgICAgICAgLy8gUGlwZXMgc3R1ZmZcclxuICAgICAgICB0aGlzLm5leHRQaXBlRmFjaW5nID0gdGhpcy5maXJzdFBpcGVGYWNpbmc7XHJcbiAgICAgICAgdGhpcy5waXBlVGV4dHVyZSA9IHV0aWxzLmdldFRleHR1cmUoc2V0dGluZ3MudGV4dHVyZXMucGlwZSk7XHJcbiAgICAgICAgdGhpcy5waXBlVG9wVGV4dHVyZSA9IHV0aWxzLmdldFRleHR1cmUoc2V0dGluZ3MudGV4dHVyZXMucGlwZVVwKTtcclxuICAgICAgICB0aGlzLnBpcGVCb3R0b21UZXh0dXJlID0gdXRpbHMuZ2V0VGV4dHVyZShzZXR0aW5ncy50ZXh0dXJlcy5waXBlRG93bik7XHJcblxyXG4gICAgICAgIHRoaXMucGlwZXNDb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5faW5pdGlhbFBpcGVzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENoaWxkKHRoaXMucGlwZXNDb250YWluZXIpO1xyXG5cclxuICAgICAgICAvLyBTY29yZVxyXG4gICAgICAgIHRoaXMuc2NvcmVDb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcclxuICAgICAgICB0aGlzLnNjb3JlQ29udGFpbmVyLmFkZENoaWxkKHV0aWxzLnNjb3JlVG9TcHJpdGVzKHRoaXMuc2NvcmUsIHV0aWxzLnNjb3JlU2l6ZS5CSUcpKTtcclxuXHJcbiAgICAgICAgLy8gVG9kbzogTWFrZSB2YXJzXHJcbiAgICAgICAgdGhpcy5zY29yZUNvbnRhaW5lci54ID0gMTA7XHJcbiAgICAgICAgdGhpcy5zY29yZUNvbnRhaW5lci55ID0gdXRpbHMuZ2V0VGV4dHVyZShzZXR0aW5ncy50ZXh0dXJlcy5jZWlsaW5nKS5oZWlnaHQgKyAxMDtcclxuXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2hpbGQodGhpcy5zY29yZUNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSxcclxuXHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLnNjb3JlID0gMDtcclxuICAgICAgICB0aGlzLnNjb3JlQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuc2NvcmVDb250YWluZXIuY2hpbGRyZW5bMF0pO1xyXG4gICAgICAgIHRoaXMuc2NvcmVDb250YWluZXIuYWRkQ2hpbGQodXRpbHMuc2NvcmVUb1Nwcml0ZXModGhpcy5zY29yZSwgdXRpbHMuc2NvcmVTaXplLkJJRykpO1xyXG5cclxuICAgICAgICB0aGlzLnBpcGVzQ29udGFpbmVyLnggPSAwO1xyXG4gICAgICAgIHRoaXMucGlwZXNDb250YWluZXIuY2hpbGRyZW4uc3BsaWNlKDApO1xyXG4gICAgICAgIHRoaXMucGlwZXMgPSBbXTtcclxuICAgICAgICB0aGlzLnBsYXllckluc2lkZVBpcGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm5leHRQaXBlRmFjaW5nID0gdGhpcy5maXJzdFBpcGVGYWNpbmc7XHJcbiAgICAgICAgdGhpcy5wbGFjZWRQaXBlc0NvdW50ID0gMDtcclxuICAgICAgICB0aGlzLl9pbml0aWFsUGlwZXMoKTtcclxuICAgIH0sXHJcblxyXG4gICAgbG9vcCgpIHtcclxuICAgICAgICB0aGlzLmNlaWxpbmdTcHJpdGUudGlsZVBvc2l0aW9uLnggKz0gLXNldHRpbmdzLmZvcndhcmRTcGVlZDtcclxuICAgICAgICB0aGlzLmZsb29yU3ByaXRlLnRpbGVQb3NpdGlvbi54ICs9IC1zZXR0aW5ncy5mb3J3YXJkU3BlZWQ7XHJcblxyXG4gICAgICAgIC8vIFBpcGVzIHN0dWZmXHJcbiAgICAgICAgdGhpcy5waXBlc0NvbnRhaW5lci54ICs9IC1zZXR0aW5ncy5mb3J3YXJkU3BlZWQ7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSBwaXBlcyB3aGVuIHRoZXkncmUgb2ZmIHNjcmVlblxyXG4gICAgICAgIGlmICh0aGlzLnBpcGVzLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBpcGVzQ29udGFpbmVyLnggPCAtdGhpcy5waXBlc1swXS54IC0gdGhpcy5waXBlVGV4dHVyZS53aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waXBlc0NvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLnBpcGVzWzBdKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGlwZXMuc2hpZnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wbGFjZU5ld1BpcGUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSB5IHBvc2l0aW9uIG9mIHRoZSB3YXRlclxyXG4gICAgICovXHJcbiAgICBnZXRXYXRlckxldmVsKCkge1xyXG4gICAgICAgIHJldHVybiBzZXR0aW5ncy5wbGF5YWJsZUFyZWFBYm92ZVdhdGVyO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZWxlbWVudCB0byByZW5kZXJcclxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR8Kn1cclxuICAgICAqL1xyXG4gICAgZ2V0RWxlbWVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXI7XHJcbiAgICB9LFxyXG5cclxuICAgIHBpcGVDb2xsaXNpb24oYmlyZCkge1xyXG5cclxuICAgICAgICAvLyBXZSB3aWxsIGNoZWNrIGlmIHRoZSBiaXJkIGlzIGNvbGxpZGluZyB3aXRoIHRoZSBmaXJzdCBwaXBlXHJcbiAgICAgICAgLy8gVGhlIGJpcmQgY2FuJ3QgcG9zc2libHkgaGl0IGFueSBvdGhlciBwaXBlc1xyXG5cclxuICAgICAgICAvLyBXZSBvbmx5IG5lZWQgdG8gY29sbGlkZSB3aXRoIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIHBpcGVzIGFuZCB0aGUgdG9wL2JvdHRvbSBwaWVjZXNcclxuICAgICAgICAvLyBXZSBrbm93IGhvdyBmYXIgdGhlIHBpcGUgY29udGFpbmVyIGhhcyBtb3ZlZCB0byB0aGUgcmlnaHQsIHdlIGNhbiB1c2UgdGhpcyB0byBnZXQgdGhlIGxlZnQgc2lkZVxyXG5cclxuICAgICAgICAvLyBCZWNhdXNlIG9mIHNxdWFyZSBjb2xsaXNpb24gaXQgY2FuIGZlZWwgdW5mYWlyIHdoZW4gaGl0dGluZyB0aGUgc2lkZXMgb2YgdGhlIHBpcGVzIHdoaWxlIGF0IGFuIGFuZ2xlXHJcbiAgICAgICAgLy8gV2hpY2ggb2Z0ZW4gaGFwcGVucyB3aGVuIGRpdmluZyB0aHJvdWdoIHRoZSBnYXAuIFRvIG1ha2UgdGhpbmdzIGEgYml0IGZhaXJlciwgYWRkZWQgYSBzbWFsbCBtYXJnaW47XHJcbiAgICAgICAgbGV0IGNvbGxpc2lvbk1hcmdpbiA9IDI7XHJcblxyXG4gICAgICAgIGxldCBsZWZ0ID0gdGhpcy5waXBlc0NvbnRhaW5lci54ICsgdGhpcy5waXBlc1swXS54ICsgY29sbGlzaW9uTWFyZ2luO1xyXG4gICAgICAgIGxldCByaWdodCA9IGxlZnQgKyB1dGlscy5nZXRUZXh0dXJlKHNldHRpbmdzLnRleHR1cmVzLnBpcGUpLndpZHRoIC0gY29sbGlzaW9uTWFyZ2luO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFRoZSBiaXJkIGlzIGluIHRoZSBsZWZ0L3JpZ2h0IGJvdW5kYXJpZXMgb2YgdGhlIGZpcnN0IHBpcGVcclxuICAgICAgICBpZiAoYmlyZC5nZXRSaWdodCgpID4gbGVmdCAmJiBiaXJkLmdldExlZnQoKSA8IHJpZ2h0KSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXllckluc2lkZVBpcGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gVGhlIGJpcmQgaXMgYWJvdmUgdGhlIGdhcCFcclxuICAgICAgICAgICAgaWYgKGJpcmQuZ2V0VG9wKCkgPCB0aGlzLnBpcGVzWzBdLmdhcC50b3AgfHwgYmlyZC5nZXRCb3R0b20oKSA+IHRoaXMucGlwZXNbMF0uZ2FwLmJvdHRvbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGxheWVySW5zaWRlUGlwZSkge1xyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgaGFzIHBhc3NlZCB0aGUgcGlwZVxyXG4gICAgICAgICAgICB0aGlzLl9pbmNyZWFzZVNjb3JlKCk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVySW5zaWRlUGlwZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICBfY3JlYXRlQ2VpbGluZygpIHtcclxuICAgICAgICBsZXQgY2VpbGluZ1RleHR1cmUgPSB1dGlscy5nZXRUZXh0dXJlKHNldHRpbmdzLnRleHR1cmVzLmNlaWxpbmcpO1xyXG5cclxuICAgICAgICB0aGlzLmNlaWxpbmdTcHJpdGUgPSBuZXcgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlKGNlaWxpbmdUZXh0dXJlLCB3aW5kb3cuaW5uZXJXaWR0aCwgY2VpbGluZ1RleHR1cmUuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2VpbGluZ1Nwcml0ZTtcclxuICAgIH0sXHJcblxyXG4gICAgX2NyZWF0ZUZsb29yKCkge1xyXG4gICAgICAgIGxldCBmbG9vclRleHR1cmUgPSB1dGlscy5nZXRUZXh0dXJlKHNldHRpbmdzLnRleHR1cmVzLmZsb29yKTtcclxuXHJcbiAgICAgICAgdGhpcy5mbG9vclNwcml0ZSA9IG5ldyBQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGUoZmxvb3JUZXh0dXJlLCB3aW5kb3cuaW5uZXJXaWR0aCwgZmxvb3JUZXh0dXJlLmhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5mbG9vclNwcml0ZS55ID0gc2V0dGluZ3MucGxheWFibGVBcmVhQWJvdmVXYXRlciArIHNldHRpbmdzLnBsYXlhYmxlQXJlYUJlbG93V2F0ZXIgKyB1dGlscy5nZXRUZXh0dXJlKHNldHRpbmdzLnRleHR1cmVzLmNlaWxpbmcpLmhlaWdodDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxvb3JTcHJpdGU7XHJcbiAgICB9LFxyXG5cclxuICAgIF9pbml0aWFsUGlwZXMoKSB7XHJcbiAgICAgICAgbGV0IHN0YXJ0aW5nUGlwZXNDb3VudCA9IE1hdGguY2VpbCh3aW5kb3cuaW5uZXJXaWR0aCAvIHRoaXMucGlwZURpc3RhbmNlKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFydGluZ1BpcGVzQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgcGlwZSA9IHRoaXMuX2NyZWF0ZVBpcGUodGhpcy5fZ2V0UmFuZG9tUGlwZUhlaWdodCgpLCB0aGlzLm5leHRQaXBlRmFjaW5nKTtcclxuICAgICAgICAgICAgcGlwZS54ID0gdGhpcy5maXJzdFBpcGVEaXN0YW5jZSArIHRoaXMucGlwZURpc3RhbmNlICogaTtcclxuICAgICAgICAgICAgdGhpcy5waXBlc0NvbnRhaW5lci5hZGRDaGlsZChwaXBlKTtcclxuICAgICAgICAgICAgdGhpcy5waXBlcy5wdXNoKHBpcGUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5uZXh0UGlwZUZhY2luZyAqPSAtMTtcclxuICAgICAgICAgICAgdGhpcy5wbGFjZWRQaXBlc0NvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBfcGxhY2VOZXdQaXBlKCkge1xyXG4gICAgICAgIC8vIFdlIG5lZWQgdG90YWwgcGlwZSBhbW91bnQsIHRvIGNhbGN1bGF0ZSBwb3NpdGlvbiBvZiBuZXcgb25lXHJcbiAgICAgICAgbGV0IHBpcGUgPSB0aGlzLl9jcmVhdGVQaXBlKHRoaXMuX2dldFJhbmRvbVBpcGVIZWlnaHQoKSwgdGhpcy5uZXh0UGlwZUZhY2luZyk7XHJcbiAgICAgICAgcGlwZS54ID0gdGhpcy5wbGFjZWRQaXBlc0NvdW50ICogdGhpcy5waXBlRGlzdGFuY2UgKyB0aGlzLmZpcnN0UGlwZURpc3RhbmNlO1xyXG4gICAgICAgIHRoaXMucGlwZXNDb250YWluZXIuYWRkQ2hpbGQocGlwZSk7XHJcbiAgICAgICAgdGhpcy5waXBlcy5wdXNoKHBpcGUpO1xyXG5cclxuICAgICAgICB0aGlzLm5leHRQaXBlRmFjaW5nICo9IC0xO1xyXG4gICAgICAgIHRoaXMucGxhY2VkUGlwZXNDb3VudCsrO1xyXG4gICAgfSxcclxuXHJcbiAgICBfY3JlYXRlUGlwZShoZWlnaHQsIGRpcmVjdGlvbikge1xyXG4gICAgICAgIGxldCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcclxuXHJcbiAgICAgICAgbGV0IHRvdGFsUGxheUhlaWdodCA9IHNldHRpbmdzLnBsYXlhYmxlQXJlYUFib3ZlV2F0ZXIgKyBzZXR0aW5ncy5wbGF5YWJsZUFyZWFCZWxvd1dhdGVyO1xyXG5cclxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBwaXBlRmFjaW5nLlVQKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aGlzLl9jcmVhdGVVcEZhY2luZ1BpcGUoaGVpZ2h0KSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT09IHBpcGVGYWNpbmcuRE9XTikge1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGhpcy5fY3JlYXRlRG93bkZhY2luZ1BpcGUoaGVpZ2h0KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIHNwYWNlIGZvciBwaXBlIGluIG9wcG9zaXRlIGRpcmVjdGlvbiB0byBjb21wbGV0ZSB0aGUgZ2FwXHJcbiAgICAgICAgaWYgKGhlaWdodCArIHRoaXMucGlwZUdhcFNpemUgPCB0b3RhbFBsYXlIZWlnaHQpIHtcclxuICAgICAgICAgICAgLy8gV2UgY2FuIGZpdCBhbm90aGVyIHBpcGUgb3Bwb3NpdGUgdG8gaXRcclxuICAgICAgICAgICAgbGV0IG9wcG9zaXRlUGlwZUhlaWdodCA9IHRvdGFsUGxheUhlaWdodCAtIGhlaWdodCAtIHRoaXMucGlwZUdhcFNpemU7XHJcbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT09IHBpcGVGYWNpbmcuVVApXHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGhpcy5fY3JlYXRlRG93bkZhY2luZ1BpcGUob3Bwb3NpdGVQaXBlSGVpZ2h0KSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBwaXBlRmFjaW5nLkRPV04pXHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGhpcy5fY3JlYXRlVXBGYWNpbmdQaXBlKG9wcG9zaXRlUGlwZUhlaWdodCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gU3RvcmUgdGhlIGluZm9ybWF0aW9uIG9mIHRoZSBnYXAgcG9zaXRpb24gaW4gdGhlIGNvbnRhaW5lciBvYmplY3QgZm9yIGVhc2llciBjb2xsaXNpb24gY2hlY2tzXHJcbiAgICAgICAgbGV0IHRvcCA9IChkaXJlY3Rpb24gPT09IHBpcGVGYWNpbmcuVVAgPyB0b3RhbFBsYXlIZWlnaHQgLSBoZWlnaHQgLSB0aGlzLnBpcGVHYXBTaXplIDogaGVpZ2h0KSArIHRoaXMuY2VpbGluZ1Nwcml0ZS5oZWlnaHQ7XHJcbiAgICAgICAgbGV0IGJvdHRvbSA9IChkaXJlY3Rpb24gPT09IHBpcGVGYWNpbmcuVVAgPyB0b3RhbFBsYXlIZWlnaHQgLSBoZWlnaHQgOiBoZWlnaHQgKyB0aGlzLnBpcGVHYXBTaXplKSArIHRoaXMuY2VpbGluZ1Nwcml0ZS5oZWlnaHQ7XHJcbiAgICAgICAgY29udGFpbmVyLmdhcCA9IHsgdG9wLCBib3R0b20gfVxyXG5cclxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfSxcclxuXHJcbiAgICBfY3JlYXRlVXBGYWNpbmdQaXBlKGhlaWdodCkge1xyXG4gICAgICAgIGxldCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcclxuXHJcbiAgICAgICAgbGV0IHBpcGVUb3AgPSBuZXcgUElYSS5TcHJpdGUodGhpcy5waXBlVG9wVGV4dHVyZSk7XHJcbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHBpcGVUb3ApO1xyXG5cclxuICAgICAgICBsZXQgcGlwZVBhcnRIZWlnaHQgPSBoZWlnaHQgLSB0aGlzLnBpcGVUb3BUZXh0dXJlLmhlaWdodDtcclxuXHJcbiAgICAgICAgbGV0IHBpcGUgPSBuZXcgUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlKHRoaXMucGlwZVRleHR1cmUsIHRoaXMucGlwZVRleHR1cmUud2lkdGgsIHBpcGVQYXJ0SGVpZ2h0KTtcclxuICAgICAgICBwaXBlLnkgPSB0aGlzLnBpcGVUb3BUZXh0dXJlLmhlaWdodDtcclxuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQocGlwZSk7XHJcblxyXG4gICAgICAgIC8vIFBsYWNlIHBpcGUgb24gdGhlIGJvdHRvbVxyXG4gICAgICAgIGNvbnRhaW5lci55ID0gc2V0dGluZ3MucGxheWFibGVBcmVhQWJvdmVXYXRlciArIHNldHRpbmdzLnBsYXlhYmxlQXJlYUJlbG93V2F0ZXIgLSBoZWlnaHQgKyB1dGlscy5nZXRUZXh0dXJlKHNldHRpbmdzLnRleHR1cmVzLmNlaWxpbmcpLmhlaWdodDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH0sXHJcblxyXG4gICAgX2NyZWF0ZURvd25GYWNpbmdQaXBlKGhlaWdodCkge1xyXG4gICAgICAgIGxldCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcclxuXHJcbiAgICAgICAgbGV0IHBpcGVQYXJ0SGVpZ2h0ID0gaGVpZ2h0IC0gdGhpcy5waXBlQm90dG9tVGV4dHVyZS5oZWlnaHQ7XHJcblxyXG4gICAgICAgIGxldCBwaXBlID0gbmV3IFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZSh0aGlzLnBpcGVUZXh0dXJlLCB0aGlzLnBpcGVUZXh0dXJlLndpZHRoLCBwaXBlUGFydEhlaWdodCk7XHJcbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHBpcGUpO1xyXG5cclxuICAgICAgICBsZXQgcGlwZUJvdHRvbSA9IG5ldyBQSVhJLlNwcml0ZSh0aGlzLnBpcGVCb3R0b21UZXh0dXJlKTtcclxuICAgICAgICBwaXBlQm90dG9tLnkgPSBwaXBlUGFydEhlaWdodDtcclxuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQocGlwZUJvdHRvbSk7XHJcblxyXG4gICAgICAgIC8vIFdlIGNhbiBwbGFjZSBpdCBhZ2FpbnN0IHRoZSBjZWlsaW5nXHJcbiAgICAgICAgY29udGFpbmVyLnkgPSB1dGlscy5nZXRUZXh0dXJlKHNldHRpbmdzLnRleHR1cmVzLmNlaWxpbmcpLmhlaWdodDtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgIH0sXHJcblxyXG4gICAgX2luY3JlYXNlU2NvcmUoKSB7XHJcbiAgICAgICAgYXVkaW9QbGF5ZXIucGxheShhdWRpb1BsYXllci5hdWRpb0ZyYWdtZW50cy5QT0lOVCk7XHJcbiAgICAgICAgdGhpcy5zY29yZSsrO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zY29yZSA+IHRoaXMuYmVzdFNjb3JlKSB0aGlzLmJlc3RTY29yZSA9IHRoaXMuc2NvcmU7XHJcblxyXG4gICAgICAgIC8vIEJlY2F1c2Ugd2UgcHV0IGFsbCBkaWdpdHMgaW5zaWRlIG9uZSBjb250YWluZXIsIHdlIG9ubHkgaGF2ZSB0byByZW1vdmUgb24gY2hpbGRcclxuICAgICAgICB0aGlzLnNjb3JlQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMuc2NvcmVDb250YWluZXIuY2hpbGRyZW5bMF0pO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlQ29udGFpbmVyLmFkZENoaWxkKHV0aWxzLnNjb3JlVG9TcHJpdGVzKHRoaXMuc2NvcmUsIHV0aWxzLnNjb3JlU2l6ZS5CSUcpKTtcclxuICAgfSxcclxuXHJcbiAgICBfZ2V0UmFuZG9tUGlwZUhlaWdodCgpIHtcclxuICAgICAgICAvLyBUb2RvOiBHcmFiIGZyb20gc2V0dGluZ3Mgc29tZXdoZXJlXHJcbiAgICAgICAgbGV0IG1pbkhlaWdodCA9IDI4MDtcclxuICAgICAgICBsZXQgbWF4SGVpZ2h0ID0gMzkwO1xyXG5cclxuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXhIZWlnaHQgLSBtaW5IZWlnaHQpICsgbWluSGVpZ2h0O1xyXG4gICAgfSxcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbGV2ZWw7XHJcbiIsImNvbnN0IHNldHRpbmdzID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgbG9jYXRpb24gb2YgdGhlIGFzc2V0cyBqc29uXHJcbiAgICAgKi9cclxuICAgIGFzc2V0RmlsZTogXCJhc3NldHMvYXNzZXRzLmpzb25cIixcclxuXHJcbiAgICBzb3VuZHNQYXRoOiBcImFzc2V0cy9zb3VuZHMvXCIsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgYXJlYSB0aGF0IGlzIGF2YWlsYWJsZSBhYm92ZSB0aGUgd2F0ZXJcclxuICAgICAqL1xyXG4gICAgcGxheWFibGVBcmVhQWJvdmVXYXRlcjogMjYwLFxyXG5cclxuICAgIHBsYXlhYmxlQXJlYUJlbG93V2F0ZXI6IDI2MCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBzcGVlZCBhdCB3aGljaCBvYmplY3RzIG1vdmUgdG93YXJkcyB0aGUgcGxheWVyXHJcbiAgICAgKi9cclxuICAgIGZvcndhcmRTcGVlZDogNSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBzcGVlZCBhdCB3aGljaCB0aGUgYmFja2dyb3VuZCBtb3Zlc1xyXG4gICAgICovXHJcbiAgICBiYWNrZ3JvdW5kU3BlZWQ6IDIsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgYW1vdW50IG9mIGdyYXZpdHkgYWRkZWQgdG8gdGhlIHZlbG9jaXR5IG9mIHRoZSBwbGF5ZXIgd2hpbGUgYWJvdmUgdGhlIHdhdGVyXHJcbiAgICAgKi9cclxuICAgIGdyYXZpdHk6IDAuMyxcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBhbW91bnQgb2YgdXB3YXJkIGZvcmNlIGFkZGVkIHRvIHRoZSB2ZWxvY2l0eSBvZiB0aGUgcGxheWVyIHdoaWxlIGJlbG93IHRoZSB3YXRlclxyXG4gICAgICovXHJcbiAgICB3YXRlclB1c2hGb3JjZTogMC4zLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGFtb3VudCBvZiB1cHdhcmQgdmVsb2NpdHkgaXMgYWRkZWQgdG8gdGhlIHBsYXllciBvbiAnZmxhcHBpbmcnLlxyXG4gICAgICovXHJcbiAgICBiaXJkRmxhcFZlbG9jaXR5OiA0LjUsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJZiB2ZXJ0aWNhbCB2ZWxvY2l0eSBvZiB0aGUgcGxheWVyIHNob3VsZCBiZSByZXNldCBiZWZvcmUgYXBwbHlpbmcgdGhlIGZsYXAgdmVsb2NpdHlcclxuICAgICAqL1xyXG4gICAgc2hvdWxkQmlyZEZsYXBSZXNldFZlbG9jaXR5OiB0cnVlLFxyXG5cclxuICAgIHRleHR1cmVzOiB7XHJcbiAgICAgICAgJ2JhY2tncm91bmQnOiAnc2t5LnBuZycsXHJcbiAgICAgICAgJ2Zsb29yJzogJ2xhbmQucG5nJyxcclxuICAgICAgICAnY2VpbGluZyc6ICdjZWlsaW5nLnBuZycsXHJcbiAgICAgICAgJ3BpcGUnOiAncGlwZS5wbmcnLFxyXG4gICAgICAgICdwaXBlVXAnOiAncGlwZS11cC5wbmcnLFxyXG4gICAgICAgICdwaXBlRG93bic6ICdwaXBlLWRvd24ucG5nJyxcclxuICAgICAgICAnV0FURVInOiAnd2F0ZXIucG5nJyxcclxuICAgICAgICAnR0FNRV9PVkVSJzogJ3Njb3JlYm9hcmQucG5nJyxcclxuICAgICAgICAnUkVTVEFSVCc6ICdyZXBsYXkucG5nJyxcclxuICAgICAgICAnQklHXzAnOiAnZm9udF9iaWdfMC5wbmcnLFxyXG4gICAgICAgICdCSUdfMSc6ICdmb250X2JpZ18xLnBuZycsXHJcbiAgICAgICAgJ0JJR18yJzogJ2ZvbnRfYmlnXzIucG5nJyxcclxuICAgICAgICAnQklHXzMnOiAnZm9udF9iaWdfMy5wbmcnLFxyXG4gICAgICAgICdCSUdfNCc6ICdmb250X2JpZ180LnBuZycsXHJcbiAgICAgICAgJ0JJR181JzogJ2ZvbnRfYmlnXzUucG5nJyxcclxuICAgICAgICAnQklHXzYnOiAnZm9udF9iaWdfNi5wbmcnLFxyXG4gICAgICAgICdCSUdfNyc6ICdmb250X2JpZ183LnBuZycsXHJcbiAgICAgICAgJ0JJR184JzogJ2ZvbnRfYmlnXzgucG5nJyxcclxuICAgICAgICAnQklHXzknOiAnZm9udF9iaWdfOS5wbmcnLFxyXG4gICAgICAgICdTTUFMTF8wJzogJ2ZvbnRfc21hbGxfMC5wbmcnLFxyXG4gICAgICAgICdTTUFMTF8xJzogJ2ZvbnRfc21hbGxfMS5wbmcnLFxyXG4gICAgICAgICdTTUFMTF8yJzogJ2ZvbnRfc21hbGxfMi5wbmcnLFxyXG4gICAgICAgICdTTUFMTF8zJzogJ2ZvbnRfc21hbGxfMy5wbmcnLFxyXG4gICAgICAgICdTTUFMTF80JzogJ2ZvbnRfc21hbGxfNC5wbmcnLFxyXG4gICAgICAgICdTTUFMTF81JzogJ2ZvbnRfc21hbGxfNS5wbmcnLFxyXG4gICAgICAgICdTTUFMTF82JzogJ2ZvbnRfc21hbGxfNi5wbmcnLFxyXG4gICAgICAgICdTTUFMTF83JzogJ2ZvbnRfc21hbGxfNy5wbmcnLFxyXG4gICAgICAgICdTTUFMTF84JzogJ2ZvbnRfc21hbGxfOC5wbmcnLFxyXG4gICAgICAgICdTTUFMTF85JzogJ2ZvbnRfc21hbGxfOS5wbmcnLFxyXG4gICAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBzZXR0aW5ncztcclxuIiwibGV0IHNldHVwID0ge1xyXG4gICAgcmVuZGVyZXIoKSB7XHJcbiAgICAgICAgbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XHJcbiAgICAgICAgcmVuZGVyZXIudmlldy5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcclxuICAgICAgICByZW5kZXJlci52aWV3LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgcmVuZGVyZXIuYmFja2dyb3VuZENvbG9yID0gMHg0ZWMwY2E7XHJcbiAgICAgICAgcmVuZGVyZXIuYXV0b1Jlc2l6ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocmVuZGVyZXIudmlldyk7XHJcblxyXG4gICAgICAgIHJldHVybiByZW5kZXJlcjtcclxuICAgIH0sXHJcblxyXG4gICAgbG9hZEFzc2V0cyhjYWxsYmFjaykge1xyXG4gICAgICAgIFBJWEkubG9hZGVyLmFkZChcImFzc2V0cy9hc3NldHMuanNvblwiKS5sb2FkKGNhbGxiYWNrKTtcclxuICAgIH1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gc2V0dXA7XHJcbiIsImxldCBzZXR0aW5ncyA9IHJlcXVpcmUoJy4vc2V0dGluZ3MnKTtcclxuXHJcbmxldCB1dGlscyA9IHtcclxuXHJcbiAgICBzY29yZVNpemU6IHtcclxuICAgICAgICAnU01BTEwnOiAwLFxyXG4gICAgICAgICdCSUcnOiAxXHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGEgdGV4dHVyZSBmcm9tIHRoZSBwaXhpIGxvYWRlciBieSBuYW1lXHJcbiAgICAgKiBAcGFyYW0gbmFtZSB0ZXh0dXJlIG5hbWUsIHdpdGggZXh0ZW5zaW9uXHJcbiAgICAgKiBAcmV0dXJucyB7KnxQSVhJLlRleHR1cmV8RnJhbWVPYmplY3R9XHJcbiAgICAgKi9cclxuICAgIGdldFRleHR1cmUobmFtZSkge1xyXG4gICAgICAgIHJldHVybiBQSVhJLmxvYWRlci5yZXNvdXJjZXNbc2V0dGluZ3MuYXNzZXRGaWxlXS50ZXh0dXJlc1tuYW1lXVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpbGwgYSBnaXZlbiBwaXhpIGNvbnRhaW5lciBhbmQgZmlsbCBpdCB3aXRoIHZlcnRpY2FsbHkgYWxpZ25lZCB0aWxlcyBmaXR0aW5nIHdob2xlIHdpbmRvdyB3aWR0aFxyXG4gICAgICogQHBhcmFtIGNvbnRhaW5lclxyXG4gICAgICogQHBhcmFtIHRleHR1cmVcclxuICAgICAqL1xyXG4gICAgZmlsbENvbnRhaW5lcldpdGhXaW5kb3dXaWR0aFRpbGVzKGNvbnRhaW5lciwgdGV4dHVyZSkge1xyXG4gICAgICAgIGxldCByZXF1aXJlZFRpbGVzID0gdGhpcy5fZ2V0UmVxdWlyZWRXaWR0aFRpbGVzKHRleHR1cmUud2lkdGgpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcXVpcmVkVGlsZXM7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgdGlsZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcclxuICAgICAgICAgICAgdGlsZS54ID0gdGlsZS53aWR0aCAqIGk7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aWxlKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHNjb3JlVG9TcHJpdGVzKHNjb3JlLCBzaXplKSB7XHJcbiAgICAgICAgbGV0IHN0cmluZ1Njb3JlID0gc2NvcmUudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgbGV0IHRleHR1cmVQcmVmaXggPSBzaXplID09PSB0aGlzLnNjb3JlU2l6ZS5CSUcgPyAnQklHXycgOiAnU01BTExfJztcclxuICAgICAgICBsZXQgbGV0dGVyU3BhY2luZyA9IHNpemUgPT09IHRoaXMuc2NvcmVTaXplLkJJRyA/IDI1IDogMTA7XHJcblxyXG5cclxuICAgICAgICBsZXQgZGlnaXRzQ29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzdHJpbmdTY29yZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgZGlnaXQgPSBuZXcgUElYSS5TcHJpdGUodGhpcy5nZXRUZXh0dXJlKHNldHRpbmdzLnRleHR1cmVzW3RleHR1cmVQcmVmaXggKyBzdHJpbmdTY29yZS5jaGFyQXQoaSldKSk7XHJcbiAgICAgICAgICAgIGRpZ2l0LnggPSBpICogbGV0dGVyU3BhY2luZztcclxuICAgICAgICAgICAgZGlnaXRzQ29udGFpbmVyLmFkZENoaWxkKGRpZ2l0KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRpZ2l0c0NvbnRhaW5lcjtcclxuICAgIH0sXHJcblxyXG4gICAgX2dldFJlcXVpcmVkV2lkdGhUaWxlcyh0aWxlV2lkdGgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKHdpbmRvdy5pbm5lcldpZHRoIC8gdGlsZVdpZHRoKSArIDE7XHJcbiAgICB9XHJcblxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB1dGlscztcclxuIl19"}